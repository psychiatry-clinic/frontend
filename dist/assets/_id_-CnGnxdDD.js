import{_ as _e}from"./AppStepper.vue_vue_type_style_index_0_lang-0Hki3feE.js";import{_ as be}from"./chiefComplaint.vue_vue_type_script_setup_true_lang-Cr75i1ok.js";import{_ as ye}from"./consultationsVue.vue_vue_type_script_setup_true_lang-BD2vn25T.js";import{_ as xe}from"./ddxVue.vue_vue_type_script_setup_true_lang-DIH82Q6n.js";import{_ as ge}from"./developmentVue.vue_vue_type_script_setup_true_lang-C1FrP8OH.js";import{_ as ke}from"./examination.vue_vue_type_script_setup_true_lang-DWkgxWWr.js";import{_ as $e}from"./familyHx.vue_vue_type_script_setup_true_lang-9Qpk6lCD.js";import{_ as we}from"./followUp.vue_vue_type_script_setup_true_lang-D5_C01qd.js";import{_ as Ce}from"./forensicHx.vue_vue_type_script_setup_true_lang-BzFh8Jir.js";import{_ as Ue}from"./ixVue.vue_vue_type_script_setup_true_lang-DZM-bEOf.js";import{_ as ae}from"./managementVue.vue_vue_type_script_setup_true_lang-BPZa8Hvv.js";import{_ as Se}from"./notesVue.vue_vue_type_script_setup_true_lang-C1H7LVML.js";import{_ as he}from"./occupationHx.vue_vue_type_script_setup_true_lang-CeCJnXhC.js";import{_ as Ne}from"./pastHx.vue_vue_type_script_setup_true_lang-ITmpWihW.js";import{_ as He}from"./personalHx.vue_vue_type_script_setup_true_lang-DF-NaT0g.js";import{_ as Pe}from"./presentIllnessChild.vue_vue_type_script_setup_true_lang-BTzVMcU5.js";import{_ as Fe}from"./socialHx.vue_vue_type_script_setup_true_lang-BsqIBkIw.js";import{_ as ie}from"./therapyVue.vue_vue_type_script_setup_true_lang-wr1zt84E.js";import{d as Te,b8 as De,aV as Ie,k as Be,j as Re,r as i,b9 as je,w as Ae,o as d,c as A,e as M,b as a,f as u,v as x,x as y,n as l,aj as g,aX as s,g as v,z as _,a0 as se,F as Ee,ba as Me}from"./index-BlOLK-CZ.js";import{u as Oe}from"./useApi-INDUtDEw.js";import{$ as qe}from"./api-B1pU0jk4.js";import{V as ze,a as ne}from"./VRow-BC9Ovw_I.js";import{V as O}from"./VCardText-CG_IOMDg.js";import{V as Ye,a as ue}from"./VRadioGroup-DBMzVu9a.js";import{V as Ge}from"./VForm-Dp0_hY-u.js";import{V as re}from"./VWindowItem-CH1yIsh9.js";import{V as We}from"./VCard-CDjNMiYr.js";import{a as Xe}from"./differenceInYears-BdTDs0wt.js";import"./VSlideGroup-CTSkdftt.js";import"./index-dZctKxOJ.js";import"./VSlideGroupItem-CG46EMw8.js";import"./VAvatar-3gGU-9TK.js";import"./VImg-Hu-AhWIE.js";import"./index-BOE-9-KQ.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-DGCLoZ5h.js";import"./form-DDGglpqa.js";/* empty css                   */import"./VCounter-Blc0aR9Q.js";import"./VField-CvIVWC3E.js";import"./easing-CjukEv2V.js";import"./VInput-Do2s5cLB.js";import"./forwardRefs-C-GTDzx5.js";import"./suggestions-DKXbCM4Q.js";import"./VChip-gdhwH_9W.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-CQaZ3Bkz.js";import"./VTextField-C5Uy0wVl.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-DJlihd21.js";import"./VSelect-DhcSAly3.js";import"./VList-CnfxgVxP.js";import"./ssrBoot-C9Tmz1DG.js";import"./createSimpleFunctional-BatQIq6s.js";import"./VDivider-D4oAc6jz.js";import"./dialog-transition-BxuQKepu.js";import"./VMenu-BMYyqU92.js";import"./VOverlay-DZPAGf45.js";import"./lazy-Bwit4BXh.js";import"./scopeId-0viyyaC4.js";import"./VCheckboxBtn-My9aGqUy.js";import"./VSelectionControl-DUgRM-hj.js";import"./filter-D827HtA4.js";import"./VTabs-1Tj7I2mr.js";import"./VCheckbox-BqT2aGmm.js";import"./VSnackbar-BrsStHZL.js";import"./index-B3bPRkoL.js";/* empty css              */const Je={class:"d-flex justify-space-between"},Ke={key:0},Le={key:0},Qe={key:1},Ze={class:"d-flex flex-wrap gap-4 justify-sm-space-between justify-center mt-8"},pt=Te({__name:"[id]",async setup(el){var G,W,X,J,K,L,Q,Z,ee,le,te,oe;let k,q;const p=De("userData").value,{t:o}=Ie(),z=Be(),b=Re(),r=i(!1),me=[{title:o("Chief Complaint"),subtitle:""},{title:o("Present Illness"),subtitle:""},{title:o("Family History"),subtitle:""},{title:o("Past History"),subtitle:""},{title:o("Social History"),subtitle:""},{title:o("Personal History"),subtitle:""},{title:o("Occupational History"),subtitle:""},{title:o("Forensic History"),subtitle:""},{title:o("Examination"),subtitle:""},{title:o("Differential Diagnosis"),subtitle:""},{title:o("Investigations"),subtitle:""},{title:o("Notes"),subtitle:""},{title:o("Management"),subtitle:""},{title:o("Therapy"),subtitle:""}],de=[{title:o("Follow up Notes"),subtitle:""},{title:o("Management"),subtitle:""},{title:o("Therapy"),subtitle:""}],pe=[{title:o("Chief Complaint"),subtitle:""},{title:o("Present Illness"),subtitle:""},{title:o("Development History"),subtitle:""},{title:o("Family History"),subtitle:""},{title:o("Past History"),subtitle:""},{title:o("Social History"),subtitle:""},{title:o("Examination"),subtitle:""},{title:o("Consultations"),subtitle:""},{title:o("Differential Diagnosis"),subtitle:""},{title:o("Investigations"),subtitle:""},{title:o("Notes"),subtitle:""},{title:o("Management"),subtitle:""},{title:o("Therapy"),subtitle:""}],E=()=>{window.scrollTo({top:0,behavior:"smooth"})},fe=i({message:void 0}),f=Xe(new Date,new Date(b.query.dob))<14,{data:n}=([k,q]=je(()=>Oe(`/patient/${p==null?void 0:p.id}/${b.params.id}`)),k=await k,q(),k);n&&((G=n.value)!=null&&G.visits)&&((W=n.value)==null?void 0:W.visits.length)>0?r.value=!0:r.value=!1;let $=i();const Y=()=>{$.value=r.value?de:f?pe:me};Y(),Ae(r,Y);const m=i(0);i(b.params.id),i(p==null?void 0:p.id),i(),i(),i();const w=i({Complaint:""}),C=i({Notes:""}),U=i(((X=n.value)==null?void 0:X.development)||{selectedYear:[],selectedPeripartum:[]}),S=i((J=n.value)!=null&&J.family_hx?n.value.family_hx:{Different:"",Medical:"",Other:"",Similar:""}),h=i((K=n.value)!=null&&K.past_hx?n.value.past_hx:{}),N=i((L=n.value)!=null&&L.social_hx?n.value.social_hx:{}),H=i((Q=n.value)!=null&&Q.personal_hx?(Z=n.value)==null?void 0:Z.personal_hx:{}),P=i((ee=n.value)!=null&&ee.occupation_hx?(le=n.value)==null?void 0:le.occupation_hx:{}),F=i((te=n.value)!=null&&te.forensic_hx?(oe=n.value)==null?void 0:oe.forensic_hx:{}),T=i({}),D=i({investigations:[{name:"",result:""}]}),I=i({consultations:[{branch:"",result:""}]}),V=i({managements:[{Name:"",Form:"",Dose:"",Use:""}]}),B=i({"Differential Diagnosis":""}),c=i({Notes:""}),ve=`/visits-new/${p==null?void 0:p.id}/${b.params.id}`,R=i(!1),Ve=async()=>{if(p){R.value=!0;try{const j=await qe(ve,{method:"POST",body:{chief_complaint:w.value,clinicId:p.clinic.id,present_illness:C.value,examination:T.value,ddx:B.value,ix:D.value,management:V.value,consultations:I.value,notes:c.value,social_hx:N.value,family_hx:S.value,personal_hx:H.value,forensic_hx:F.value,occupation_hx:P.value,past_hx:h.value,development:U.value,follow_up:r.value},onResponseError({response:e}){fe.value=e._data}});console.log(j),z.push(`/patients/${b.params.id}`),R.value=!1}catch(j){R.value=!1,console.error(j)}}};return(j,e)=>{const ce=_e;return d(),A(Ee,null,[M("div",Je,[a(g,{variant:"flat",color:"warning",class:"mb-5",onClick:l(z).back},{default:u(()=>[x(y(l(o)("Back")),1)]),_:1},8,["onClick"]),a(g,{variant:"outlined",color:"secondary"},{default:u(()=>[x(y(l(o)("Patient"))+" : "+y(l(b).query.name),1)]),_:1})]),a(We,null,{default:u(()=>[a(ze,null,{default:u(()=>[a(ne,{cols:"12",md:"3",class:"border-e"},{default:u(()=>[a(O,null,{default:u(()=>[a(Ye,{modelValue:l(r),"onUpdate:modelValue":e[0]||(e[0]=t=>s(r)?r.value=t:null),inline:""},{default:u(()=>[a(ue,{label:l(o)("Classic"),value:!1},null,8,["label"]),a(ue,{label:l(o)("Follow Up"),value:!0},null,8,["label"])]),_:1},8,["modelValue"])]),_:1}),a(O,null,{default:u(()=>[a(ce,{"current-step":l(m),"onUpdate:currentStep":e[1]||(e[1]=t=>s(m)?m.value=t:null),direction:"vertical",items:l($),onClick:E},null,8,["current-step","items"])]),_:1})]),_:1}),a(ne,{cols:"12",md:"9"},{default:u(()=>[a(O,null,{default:u(()=>[a(Ge,null,{default:u(()=>[l($)?(d(),A("div",Ke,[l(r)?(d(),A("div",Qe,[a(re,{modelValue:l(m),"onUpdate:modelValue":e[20]||(e[20]=t=>s(m)?m.value=t:null),class:"disable-tab-transition"},{default:u(()=>[a(we,{modelValue:l(c),"onUpdate:modelValue":e[18]||(e[18]=t=>s(c)?c.value=t:null)},null,8,["modelValue"]),a(ae,{modelValue:l(V),"onUpdate:modelValue":e[19]||(e[19]=t=>s(V)?V.value=t:null)},null,8,["modelValue"]),a(ie,{psychologist:!1})]),_:1},8,["modelValue"])])):(d(),A("div",Le,[a(re,{modelValue:l(m),"onUpdate:modelValue":e[17]||(e[17]=t=>s(m)?m.value=t:null),class:"disable-tab-transition"},{default:u(()=>[a(be,{modelValue:l(w),"onUpdate:modelValue":e[2]||(e[2]=t=>s(w)?w.value=t:null)},null,8,["modelValue"]),a(Pe,{modelValue:l(C),"onUpdate:modelValue":e[3]||(e[3]=t=>s(C)?C.value=t:null),child:f},null,8,["modelValue"]),f&&!l(r)?(d(),v(ge,{key:0,modelValue:l(U),"onUpdate:modelValue":e[4]||(e[4]=t=>s(U)?U.value=t:null)},null,8,["modelValue"])):_("",!0),a($e,{modelValue:l(S),"onUpdate:modelValue":e[5]||(e[5]=t=>s(S)?S.value=t:null)},null,8,["modelValue"]),a(Ne,{modelValue:l(h),"onUpdate:modelValue":e[6]||(e[6]=t=>s(h)?h.value=t:null)},null,8,["modelValue"]),a(Fe,{modelValue:l(N),"onUpdate:modelValue":e[7]||(e[7]=t=>s(N)?N.value=t:null)},null,8,["modelValue"]),!f&&!l(r)?(d(),v(He,{key:1,modelValue:l(H),"onUpdate:modelValue":e[8]||(e[8]=t=>s(H)?H.value=t:null)},null,8,["modelValue"])):_("",!0),!f&&!l(r)?(d(),v(he,{key:2,modelValue:l(P),"onUpdate:modelValue":e[9]||(e[9]=t=>s(P)?P.value=t:null)},null,8,["modelValue"])):_("",!0),!f&&!l(r)?(d(),v(Ce,{key:3,modelValue:l(F),"onUpdate:modelValue":e[10]||(e[10]=t=>s(F)?F.value=t:null)},null,8,["modelValue"])):_("",!0),a(ke,{modelValue:l(T),"onUpdate:modelValue":e[11]||(e[11]=t=>s(T)?T.value=t:null)},null,8,["modelValue"]),f&&!l(r)?(d(),v(ye,{key:4,modelValue:l(I),"onUpdate:modelValue":e[12]||(e[12]=t=>s(I)?I.value=t:null)},null,8,["modelValue"])):_("",!0),a(xe,{modelValue:l(B),"onUpdate:modelValue":e[13]||(e[13]=t=>s(B)?B.value=t:null),child:f},null,8,["modelValue"]),a(Ue,{modelValue:l(D),"onUpdate:modelValue":e[14]||(e[14]=t=>s(D)?D.value=t:null)},null,8,["modelValue"]),a(Se,{modelValue:l(c),"onUpdate:modelValue":e[15]||(e[15]=t=>s(c)?c.value=t:null)},null,8,["modelValue"]),a(ae,{modelValue:l(V),"onUpdate:modelValue":e[16]||(e[16]=t=>s(V)?V.value=t:null)},null,8,["modelValue"]),a(ie,{psychologist:!1})]),_:1},8,["modelValue"])]))])):_("",!0),M("div",Ze,[a(g,{color:"secondary",variant:"tonal",disabled:l(m)===0,onClick:e[21]||(e[21]=()=>{m.value--,E()})},{default:u(()=>[a(se,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),x(" "+y(l(o)("Previous")),1)]),_:1},8,["disabled"]),M("div",null,[l(R)?(d(),v(Me,{key:1,size:30,width:"3",color:"success",indeterminate:""})):(d(),v(g,{key:0,color:"success",onClickOnce:Ve},{default:u(()=>[x(y(l(o)("Submit")),1)]),_:1}))]),l(m)!==l($).length-1?(d(),v(g,{key:0,onClick:e[22]||(e[22]=()=>{m.value++,E()})},{default:u(()=>[x(y(l(o)("Next"))+" ",1),a(se,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1})):_("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{pt as default};
