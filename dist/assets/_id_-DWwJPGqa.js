import{_ as ce}from"./AppStepper.vue_vue_type_style_index_0_lang-DheQ5akS.js";import{_ as _e}from"./chiefComplaint.vue_vue_type_script_setup_true_lang-CZQ0lehh.js";import{_ as Ve}from"./consultationsVue.vue_vue_type_script_setup_true_lang-BQqyNeqi.js";import{_ as be}from"./ddxVue.vue_vue_type_script_setup_true_lang-QH0eJ1YK.js";import{_ as ye}from"./developmentVue.vue_vue_type_script_setup_true_lang-DVK9SrHZ.js";import{_ as xe}from"./examination.vue_vue_type_script_setup_true_lang-ne4_1mpY.js";import{_ as ke}from"./familyHx.vue_vue_type_script_setup_true_lang-DSc6N63h.js";import{_ as ge}from"./forensicHx.vue_vue_type_script_setup_true_lang-De6iHztE.js";import{_ as we}from"./ixVue.vue_vue_type_script_setup_true_lang-Bcs888LY.js";import{_ as $e}from"./managementVue.vue_vue_type_script_setup_true_lang-BHXcqGZg.js";import{_ as Ce}from"./notesVue.vue_vue_type_script_setup_true_lang-BR4prZSn.js";import{_ as he}from"./occupationHx.vue_vue_type_script_setup_true_lang-D2v60Kpu.js";import{_ as Ue}from"./pastHx.vue_vue_type_script_setup_true_lang-C16m9Uq1.js";import{_ as Se}from"./personalHx.vue_vue_type_script_setup_true_lang-CiGhoOPx.js";import{_ as Ne}from"./presentIllnessChild.vue_vue_type_script_setup_true_lang-DvZKgiFB.js";import{_ as He}from"./socialHx.vue_vue_type_script_setup_true_lang-C1Nbbnf6.js";import{_ as Pe}from"./therapyVue.vue_vue_type_script_setup_true_lang-BpZbBi1i.js";import{d as Fe,b8 as Te,aV as De,k as Ie,j as Be,r as a,b9 as Re,w as je,o as n,c as ne,e as E,b as s,f as d,v as x,x as V,n as e,aj as k,aX as u,g as m,z as p,a0 as ue,F as Ae,ba as Ee}from"./index-CUq24_Fe.js";import{u as Me}from"./useApi-BqVAN00G.js";import{$ as Oe}from"./api-D4r4OcVS.js";import{V as qe,a as re}from"./VRow-c4vFAJ7q.js";import{V as M}from"./VCardText-DvT4gKIo.js";import{V as ze,a as me}from"./VRadioGroup-CMhoPfii.js";import{V as Ye}from"./VForm-CpDXNOsR.js";import{V as Ge}from"./VWindowItem-BujJ415Q.js";import{V as We}from"./VCard-haZoNGks.js";import{a as Xe}from"./differenceInYears-BdTDs0wt.js";import"./VSlideGroup-BddQbfzx.js";import"./index-Di9BiCad.js";import"./VSlideGroupItem-CGrzhE_t.js";import"./VAvatar-CP-t1hAh.js";import"./VImg-dAreq1ZE.js";import"./index-CYM1QvHM.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-BbpdHDig.js";import"./form-9u_3hlfJ.js";/* empty css                   */import"./VCounter-qduikmhS.js";import"./VField-DJPodexg.js";import"./easing-CjukEv2V.js";import"./VInput-B6KGWHid.js";import"./forwardRefs-C-GTDzx5.js";import"./suggestions-uy40kO-q.js";import"./VChip-BB1INoVT.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-Cad4y1Xm.js";import"./VTextField-Ccn8tHsN.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-D5Xa-i8z.js";import"./VSelect-CesTJAVx.js";import"./VList-BGxwOgHd.js";import"./ssrBoot-D6qqRZdf.js";import"./createSimpleFunctional-pdbxtRIz.js";import"./VDivider-DYLyIdVc.js";import"./dialog-transition-Bcgz64UU.js";import"./VMenu-BjdcrVys.js";import"./VOverlay-BHLbEMSo.js";import"./lazy-DMUNf1IF.js";import"./scopeId-DWELbCgr.js";import"./VCheckboxBtn-DhbT4HAD.js";import"./VSelectionControl-DdtYOovP.js";import"./filter-DEBEH1dI.js";import"./VTabs-Dn0Ifgtn.js";import"./VCheckbox-Cp9wofYb.js";import"./VSnackbar-hgYz21HW.js";import"./index-B3bPRkoL.js";/* empty css              */const Je={class:"d-flex justify-space-between"},Ke={key:0},Le={class:"d-flex flex-wrap gap-4 justify-sm-space-between justify-center mt-8"},rt=Fe({__name:"[id]",async setup(Qe){var W,X,J,K,L,Q,Z,ee,le,te,oe,ae,ie,se;let g,O;const f=Te("userData").value,{t}=De(),q=Ie(),_=Be(),i=a(!0),z=[{title:t("Chief Complaint"),subtitle:""},{title:t("Present Illness"),subtitle:""},{title:t("Family History"),subtitle:""},{title:t("Past History"),subtitle:""},{title:t("Social History"),subtitle:""},{title:t("Personal History"),subtitle:""},{title:t("Occupational History"),subtitle:""},{title:t("Forensic History"),subtitle:""},{title:t("Examination"),subtitle:""},{title:t("Differential Diagnosis"),subtitle:""},{title:t("Investigations"),subtitle:""},{title:t("Notes"),subtitle:""},{title:t("Management"),subtitle:""},{title:t("Therapy"),subtitle:""}],Y=[{title:t("Follow up Notes"),subtitle:""},{title:t("Management"),subtitle:""},{title:t("Therapy"),subtitle:""}],G=[{title:t("Chief Complaint"),subtitle:""},{title:t("Present Illness"),subtitle:""},{title:t("Development History"),subtitle:""},{title:t("Family History"),subtitle:""},{title:t("Past History"),subtitle:""},{title:t("Social History"),subtitle:""},{title:t("Examination"),subtitle:""},{title:t("Consultations"),subtitle:""},{title:t("Differential Diagnosis"),subtitle:""},{title:t("Investigations"),subtitle:""},{title:t("Notes"),subtitle:""},{title:t("Management"),subtitle:""},{title:t("Therapy"),subtitle:""}],A=()=>{window.scrollTo({top:0,behavior:"smooth"})},de=a({message:void 0}),c=Xe(new Date,new Date(_.query.dob))<14,{data:r}=([g,O]=Re(()=>Me(`/patient/${f==null?void 0:f.id}/${_.params.id}`)),g=await g,O(),g);console.log("data"),console.log((X=(W=r.value)==null?void 0:W.visits)==null?void 0:X.length),r&&((J=r.value)!=null&&J.visits)&&((K=r.value)==null?void 0:K.visits.length)>0?i.value=!0:i.value=!1;let b=a();b.value=i.value?Y:c?G:z,je(i,y=>{b.value=i.value?Y:c?G:z});const v=a(0);a(_.params.id),a(f==null?void 0:f.id),a(),a(),a();const w=a({Complaint:""}),$=a({Notes:""}),C=a(((L=r.value)==null?void 0:L.development)||{selectedYear:[],selectedPeripartum:[]}),h=a((Q=r.value)!=null&&Q.family_hx?r.value.family_hx:{Different:"",Medical:"",Other:"",Similar:""}),U=a((Z=r.value)!=null&&Z.past_hx?r.value.past_hx:{}),S=a((ee=r.value)!=null&&ee.social_hx?r.value.social_hx:{}),N=a((le=r.value)!=null&&le.personal_hx?(te=r.value)==null?void 0:te.personal_hx:{}),H=a((oe=r.value)!=null&&oe.occupation_hx?(ae=r.value)==null?void 0:ae.occupation_hx:{}),P=a((ie=r.value)!=null&&ie.forensic_hx?(se=r.value)==null?void 0:se.forensic_hx:{}),F=a({}),T=a({investigations:[{name:"",result:""}]}),D=a({consultations:[{branch:"",result:""}]}),I=a({managements:[{Name:"",Form:"",Dose:"",Use:""}]}),B=a({"Differential Diagnosis":""}),R=a({Notes:""}),pe=`/visits-new/${f==null?void 0:f.id}/${_.params.id}`,j=a(!1),fe=async()=>{if(f){j.value=!0;try{const y=await Oe(pe,{method:"POST",body:{chief_complaint:w.value,clinicId:f.clinic.id,present_illness:$.value,examination:F.value,ddx:B.value,ix:T.value,management:I.value,consultations:D.value,notes:R.value,social_hx:S.value,family_hx:h.value,personal_hx:N.value,forensic_hx:P.value,occupation_hx:H.value,past_hx:U.value,development:C.value,follow_up:i.value},onResponseError({response:l}){de.value=l._data}});console.log(y),q.push(`/patients/${_.params.id}`),j.value=!1}catch(y){j.value=!1,console.error(y)}}};return(y,l)=>{const ve=ce;return n(),ne(Ae,null,[E("div",Je,[s(k,{variant:"flat",color:"warning",class:"mb-5",onClick:e(q).back},{default:d(()=>[x(V(e(t)("Back")),1)]),_:1},8,["onClick"]),s(k,{variant:"outlined",color:"secondary"},{default:d(()=>[x(V(e(t)("Patient"))+" : "+V(e(_).query.name),1)]),_:1})]),s(We,null,{default:d(()=>[s(qe,null,{default:d(()=>[s(re,{cols:"12",md:"3",class:"border-e"},{default:d(()=>[s(M,null,{default:d(()=>[s(ze,{modelValue:e(i),"onUpdate:modelValue":l[0]||(l[0]=o=>u(i)?i.value=o:null),inline:""},{default:d(()=>[s(me,{label:e(t)("Classic"),value:!1},null,8,["label"]),s(me,{label:e(t)("Follow Up"),value:!0},null,8,["label"])]),_:1},8,["modelValue"])]),_:1}),s(M,null,{default:d(()=>[s(ve,{"current-step":e(v),"onUpdate:currentStep":l[1]||(l[1]=o=>u(v)?v.value=o:null),direction:"vertical",items:e(b),onClick:A},null,8,["current-step","items"])]),_:1})]),_:1}),s(re,{cols:"12",md:"9"},{default:d(()=>[s(M,null,{default:d(()=>[s(Ye,null,{default:d(()=>[e(b)?(n(),ne("div",Ke,[s(Ge,{modelValue:e(v),"onUpdate:modelValue":l[17]||(l[17]=o=>u(v)?v.value=o:null),class:"disable-tab-transition"},{default:d(()=>[e(i)?p("",!0):(n(),m(_e,{key:0,modelValue:e(w),"onUpdate:modelValue":l[2]||(l[2]=o=>u(w)?w.value=o:null)},null,8,["modelValue"])),e(i)?p("",!0):(n(),m(Ne,{key:1,modelValue:e($),"onUpdate:modelValue":l[3]||(l[3]=o=>u($)?$.value=o:null),child:c},null,8,["modelValue"])),c&&!e(i)?(n(),m(ye,{key:2,modelValue:e(C),"onUpdate:modelValue":l[4]||(l[4]=o=>u(C)?C.value=o:null)},null,8,["modelValue"])):p("",!0),e(i)?p("",!0):(n(),m(ke,{key:3,modelValue:e(h),"onUpdate:modelValue":l[5]||(l[5]=o=>u(h)?h.value=o:null)},null,8,["modelValue"])),e(i)?p("",!0):(n(),m(Ue,{key:4,modelValue:e(U),"onUpdate:modelValue":l[6]||(l[6]=o=>u(U)?U.value=o:null)},null,8,["modelValue"])),e(i)?p("",!0):(n(),m(He,{key:5,modelValue:e(S),"onUpdate:modelValue":l[7]||(l[7]=o=>u(S)?S.value=o:null)},null,8,["modelValue"])),!c&&!e(i)?(n(),m(Se,{key:6,modelValue:e(N),"onUpdate:modelValue":l[8]||(l[8]=o=>u(N)?N.value=o:null)},null,8,["modelValue"])):p("",!0),!c&&!e(i)?(n(),m(he,{key:7,modelValue:e(H),"onUpdate:modelValue":l[9]||(l[9]=o=>u(H)?H.value=o:null)},null,8,["modelValue"])):p("",!0),!c&&!e(i)?(n(),m(ge,{key:8,modelValue:e(P),"onUpdate:modelValue":l[10]||(l[10]=o=>u(P)?P.value=o:null)},null,8,["modelValue"])):p("",!0),e(i)?p("",!0):(n(),m(xe,{key:9,modelValue:e(F),"onUpdate:modelValue":l[11]||(l[11]=o=>u(F)?F.value=o:null)},null,8,["modelValue"])),c&&!e(i)?(n(),m(Ve,{key:10,modelValue:e(D),"onUpdate:modelValue":l[12]||(l[12]=o=>u(D)?D.value=o:null)},null,8,["modelValue"])):p("",!0),e(i)?p("",!0):(n(),m(be,{key:11,modelValue:e(B),"onUpdate:modelValue":l[13]||(l[13]=o=>u(B)?B.value=o:null),child:c},null,8,["modelValue"])),e(i)?p("",!0):(n(),m(we,{key:12,modelValue:e(T),"onUpdate:modelValue":l[14]||(l[14]=o=>u(T)?T.value=o:null)},null,8,["modelValue"])),s(Ce,{modelValue:e(R),"onUpdate:modelValue":l[15]||(l[15]=o=>u(R)?R.value=o:null)},null,8,["modelValue"]),s($e,{modelValue:e(I),"onUpdate:modelValue":l[16]||(l[16]=o=>u(I)?I.value=o:null)},null,8,["modelValue"]),s(Pe,{psychologist:!1})]),_:1},8,["modelValue"])])):p("",!0),E("div",Le,[s(k,{color:"secondary",variant:"tonal",disabled:e(v)===0,onClick:l[18]||(l[18]=()=>{v.value--,A()})},{default:d(()=>[s(ue,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),x(" "+V(e(t)("Previous")),1)]),_:1},8,["disabled"]),E("div",null,[e(j)?(n(),m(Ee,{key:1,size:30,width:"3",color:"success",indeterminate:""})):(n(),m(k,{key:0,color:"success",onClickOnce:fe},{default:d(()=>[x(V(e(t)("Submit")),1)]),_:1}))]),e(v)!==e(b).length-1?(n(),m(k,{key:0,onClick:l[19]||(l[19]=()=>{v.value++,A()})},{default:d(()=>[x(V(e(t)("Next"))+" ",1),s(ue,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1})):p("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{rt as default};
