import{_ as ne}from"./AppStepper.vue_vue_type_style_index_0_lang-BHd-okOQ.js";import{_ as ue}from"./chiefComplaint.vue_vue_type_script_setup_true_lang-DGANSswG.js";import{_ as re}from"./consultationsVue.vue_vue_type_script_setup_true_lang-aQaNEh7Y.js";import{_ as me}from"./ddxVue.vue_vue_type_script_setup_true_lang-D_nq2Kci.js";import{_ as pe}from"./developmentVue.vue_vue_type_script_setup_true_lang-CLPAPS3I.js";import{_ as de}from"./examination.vue_vue_type_script_setup_true_lang-d2EnHlIZ.js";import{_ as fe}from"./familyHx.vue_vue_type_script_setup_true_lang-BDBoUxyb.js";import{_ as ve}from"./followUp.vue_vue_type_script_setup_true_lang-08lIhIxn.js";import{_ as ce}from"./forensicHx.vue_vue_type_script_setup_true_lang-Dzi2qVMX.js";import{_ as Ve}from"./ixVue.vue_vue_type_script_setup_true_lang-DQ0xFsTW.js";import{_ as _e}from"./managementVue.vue_vue_type_script_setup_true_lang-XbrXKdaw.js";import{_ as ye}from"./notesVue.vue_vue_type_script_setup_true_lang-CfCzTjpg.js";import{_ as be}from"./occupationHx.vue_vue_type_script_setup_true_lang-DKrN5xYy.js";import{_ as xe}from"./pastHx.vue_vue_type_script_setup_true_lang-N6Fq9tOL.js";import{_ as ke}from"./personalHx.vue_vue_type_script_setup_true_lang-DatWfvk-.js";import{_ as $e}from"./presentIllnessChild.vue_vue_type_script_setup_true_lang-DFsbA9Vy.js";import{_ as ge}from"./socialHx.vue_vue_type_script_setup_true_lang-DnvFAIU1.js";import{_ as J}from"./therapyVue.vue_vue_type_script_setup_true_lang-V0-6ZlGa.js";import{d as Ce,aV as we,b8 as Se,k as Ue,j as He,b9 as Pe,r as n,w as Ne,o as i,c as K,e as E,b as u,f as m,v as b,x as _,n as e,aj as x,g as r,aX as p,z as d,a0 as Q,ba as Te,F as Ie}from"./index-CisQdn7Q.js";import{u as De}from"./useApi-BxyMCfpD.js";import{$ as Oe}from"./api-Dd3DX_Fj.js";import{V as Fe,a as G}from"./VRow-DIxRD35Q.js";import{V as Y}from"./VCardText-Bt5pF7Ay.js";import{V as he,a as Z}from"./VRadioGroup-dihmLFC0.js";import{V as ee}from"./VForm-DBmCukWz.js";import{V as te}from"./VWindowItem-Cy5hCFTi.js";import{V as Be}from"./VCard-BgcP2yyo.js";import{a as Re}from"./differenceInYears-BdTDs0wt.js";import"./VSlideGroup-C-IHe90a.js";import"./index-Blw3KiA3.js";import"./VSlideGroupItem-CZ0rfo4s.js";import"./VAvatar-D8oghGZt.js";import"./VImg-DzXts60I.js";import"./index-BJJhLWPF.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-CUeULC-L.js";import"./form-U0UqL_qB.js";/* empty css                   */import"./VCounter-HFHU661H.js";import"./VField-BSwZilaU.js";import"./easing-CjukEv2V.js";import"./VInput-99FDxpML.js";import"./forwardRefs-C-GTDzx5.js";import"./suggestions-B0mj7V48.js";import"./VChip-CTsEmRbP.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-CdfeyABI.js";import"./VTextField-Cxs02bbk.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-DyZwDe6b.js";import"./VSelect-C0jnYT0-.js";import"./VList-DWuSosw6.js";import"./ssrBoot-CphXiZv4.js";import"./createSimpleFunctional-C5t-tZkj.js";import"./VDivider-DLnmqR75.js";import"./dialog-transition-DqZjIDuT.js";import"./VMenu-SdqXQeG-.js";import"./VOverlay-YJuRaExl.js";import"./lazy-DJ5thK6c.js";import"./scopeId-CdZek2rB.js";import"./VCheckboxBtn-L_AXsK0K.js";import"./VSelectionControl-CnW7tums.js";import"./filter--fUvE4vi.js";import"./VTabs-BzX2Lyey.js";import"./VCheckbox-CXu0_UgT.js";import"./VSnackbar-DAMpBFLS.js";import"./index-B3bPRkoL.js";/* empty css              */const je={class:"d-flex justify-space-between"},Ye={key:0,class:"d-flex flex-wrap gap-4 justify-sm-space-between justify-center mt-8"},Zt=Ce({__name:"[id]",async setup(Ae){let $,L;const{t:o}=we(),v=Se("userData").value,M=Ue(),g=He(),{data:le}=([$,L]=Pe(()=>De(`/patients/visits/${v==null?void 0:v.id}/${g.query.visit}`)),$=await $,L(),$),a=le.value,s=n(a.follow_up),c=Re(new Date,new Date(a.patient.dob))<14,q=[{title:o("Chief Complaint"),subtitle:""},{title:o("Present Illness"),subtitle:""},{title:o("Family History"),subtitle:""},{title:o("Past History"),subtitle:""},{title:o("Social History"),subtitle:""},{title:o("Personal History"),subtitle:""},{title:o("Occupational History"),subtitle:""},{title:o("Forensic History"),subtitle:""},{title:o("Examination"),subtitle:""},{title:o("Differential Diagnosis"),subtitle:""},{title:o("Investigation"),subtitle:""},{title:o("Notes"),subtitle:""},{title:o("Management"),subtitle:""},{title:o("Therapy"),subtitle:""}],z=[{title:o("Follow up Notes"),subtitle:""},{title:o("Management"),subtitle:""}],W=[{title:o("Chief Complaint"),subtitle:""},{title:"Present Illness",subtitle:""},{title:"Development History",subtitle:""},{title:o("Family History"),subtitle:""},{title:o("Past History"),subtitle:""},{title:o("Social History"),subtitle:""},{title:o("Examination"),subtitle:""},{title:o("Consultations"),subtitle:""},{title:o("Differential Diagnosis"),subtitle:""},{title:o("Investigations"),subtitle:""},{title:o("Notes"),subtitle:""},{title:o("Management"),subtitle:""},{title:o("Therapy"),subtitle:""}],A=()=>{window.scrollTo({top:0,behavior:"smooth"})};let V=n();V.value=s.value?z:c?W:q,Ne(s,j=>{V.value=s.value?z:c?W:q});const f=n(0);n(g.params.id),n(),n(a.clinic),n();const C=n(a.chief_complaint||{Complaint:""}),w=n(a.present_illness||{Notes:""}),S=n(a.patient.development||{selectedYear:[],selectedPeripartum:[]}),U=n(a.patient.family_hx||{}),H=n(a.patient.past_hx||{}),P=n(a.patient.social_hx||{}),N=n(a.patient.personal_hx||{}),T=n(a.patient.occupation_hx||{}),I=n(a.patient.forensic_hx||{}),D=n(a.ix||{}),O=n(a.examination||{}),F=n(a.consultations||{}),h=n(a.management||{managements:[]}),B=n(a.ddx||{"Differential Diagnosis":""}),y=n(a.notes||{Notes:""}),oe=`/visits-edit/${v==null?void 0:v.id}/${g.query.visit}/${a.patient.id}`,R=n(!1),ae=async()=>{if(v){R.value=!0;try{const j=await Oe(oe,{method:"POST",body:{patient_id:a.patient.id,chief_complaint:C.value,examination:O.value,ddx:B.value,present_illness:w.value,consultations:F.value,ix:D.value,management:h.value,notes:y.value,social_hx:P.value,family_hx:U.value,personal_hx:N.value,forensic_hx:I.value,occupation_hx:T.value,past_hx:H.value,development:S.value,follow_up:s.value},onResponseError({response:t}){console.log(t._data)}});M.push(`/patients/${g.params.id}`),R.value=!1}catch(j){console.error(j),R.value=!1}}};return(j,t)=>{const ie=ne;return i(),K(Ie,null,[E("div",je,[u(x,{variant:"flat",color:"warning",class:"mb-5",onClick:e(M).back},{default:m(()=>[b(_(e(o)("Back")),1)]),_:1},8,["onClick"]),u(x,{variant:"outlined",color:"secondary"},{default:m(()=>[b(_(e(o)("Patient"))+" : "+_(e(a).patient.name),1)]),_:1}),u(x,{variant:"outlined",color:"secondary"},{default:m(()=>{var k;return[b(_("Dr")+". "+_((k=e(a).doctor)==null?void 0:k.fullName),1)]}),_:1})]),u(Be,null,{default:m(()=>[u(Fe,null,{default:m(()=>{var k,X;return[e(V)&&((k=e(v))==null?void 0:k.role)!=="PSYCHOLOGIST"?(i(),r(G,{key:0,cols:"12",md:"3",class:"border-e"},{default:m(()=>[u(Y,null,{default:m(()=>[u(he,{modelValue:e(s),"onUpdate:modelValue":t[0]||(t[0]=l=>p(s)?s.value=l:null),inline:""},{default:m(()=>[u(Z,{label:"Classic",value:!1}),u(Z,{label:"Follow Up",value:!0})]),_:1},8,["modelValue"])]),_:1}),u(Y,null,{default:m(()=>{var l;return[e(V)&&((l=e(v))==null?void 0:l.role)!=="PSYCHOLOGIST"?(i(),r(ie,{key:0,"current-step":e(f),"onUpdate:currentStep":t[1]||(t[1]=se=>p(f)?f.value=se:null),direction:"vertical",items:e(V),onClick:A},null,8,["current-step","items"])):d("",!0)]}),_:1})]),_:1})):d("",!0),e(V)&&((X=e(v))==null?void 0:X.role)!=="PSYCHOLOGIST"?(i(),r(G,{key:1,cols:"12",md:"9"},{default:m(()=>[u(Y,null,{default:m(()=>[u(ee,null,{default:m(()=>[E("div",null,[u(te,{modelValue:e(f),"onUpdate:modelValue":t[18]||(t[18]=l=>p(f)?f.value=l:null),class:"disable-tab-transition"},{default:m(()=>[e(s)?d("",!0):(i(),r(ue,{key:0,modelValue:e(C),"onUpdate:modelValue":t[2]||(t[2]=l=>p(C)?C.value=l:null)},null,8,["modelValue"])),e(s)?d("",!0):(i(),r($e,{key:1,modelValue:e(w),"onUpdate:modelValue":t[3]||(t[3]=l=>p(w)?w.value=l:null),child:c},null,8,["modelValue"])),c&&!e(s)?(i(),r(pe,{key:2,modelValue:e(S),"onUpdate:modelValue":t[4]||(t[4]=l=>p(S)?S.value=l:null)},null,8,["modelValue"])):d("",!0),e(s)?d("",!0):(i(),r(fe,{key:3,modelValue:e(U),"onUpdate:modelValue":t[5]||(t[5]=l=>p(U)?U.value=l:null)},null,8,["modelValue"])),e(s)?d("",!0):(i(),r(xe,{key:4,modelValue:e(H),"onUpdate:modelValue":t[6]||(t[6]=l=>p(H)?H.value=l:null)},null,8,["modelValue"])),e(s)?d("",!0):(i(),r(ge,{key:5,modelValue:e(P),"onUpdate:modelValue":t[7]||(t[7]=l=>p(P)?P.value=l:null)},null,8,["modelValue"])),!c&&!e(s)?(i(),r(ke,{key:6,modelValue:e(N),"onUpdate:modelValue":t[8]||(t[8]=l=>p(N)?N.value=l:null)},null,8,["modelValue"])):d("",!0),!c&&!e(s)?(i(),r(be,{key:7,modelValue:e(T),"onUpdate:modelValue":t[9]||(t[9]=l=>p(T)?T.value=l:null)},null,8,["modelValue"])):d("",!0),!c&&!e(s)?(i(),r(ce,{key:8,modelValue:e(I),"onUpdate:modelValue":t[10]||(t[10]=l=>p(I)?I.value=l:null)},null,8,["modelValue"])):d("",!0),e(s)?d("",!0):(i(),r(de,{key:9,modelValue:e(O),"onUpdate:modelValue":t[11]||(t[11]=l=>p(O)?O.value=l:null)},null,8,["modelValue"])),c&&!e(s)?(i(),r(re,{key:10,modelValue:e(F),"onUpdate:modelValue":t[12]||(t[12]=l=>p(F)?F.value=l:null)},null,8,["modelValue"])):d("",!0),e(s)?d("",!0):(i(),r(me,{key:11,modelValue:e(B),"onUpdate:modelValue":t[13]||(t[13]=l=>p(B)?B.value=l:null),child:c},null,8,["modelValue"])),e(s)?d("",!0):(i(),r(Ve,{key:12,modelValue:e(D),"onUpdate:modelValue":t[14]||(t[14]=l=>p(D)?D.value=l:null)},null,8,["modelValue"])),e(s)?d("",!0):(i(),r(ye,{key:13,modelValue:e(y),"onUpdate:modelValue":t[15]||(t[15]=l=>p(y)?y.value=l:null)},null,8,["modelValue"])),e(s)?(i(),r(ve,{key:14,modelValue:e(y),"onUpdate:modelValue":t[16]||(t[16]=l=>p(y)?y.value=l:null)},null,8,["modelValue"])):d("",!0),u(_e,{modelValue:e(h),"onUpdate:modelValue":t[17]||(t[17]=l=>p(h)?h.value=l:null)},null,8,["modelValue"]),u(J,{visit:e(a),psychologist:!1},null,8,["visit"])]),_:1},8,["modelValue"])]),e(f)!==e(V).length-1||e(s)?(i(),K("div",Ye,[u(x,{color:"secondary",variant:"tonal",disabled:e(f)===0,onClick:t[19]||(t[19]=l=>(f.value--,A()))},{default:m(()=>[u(Q,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),b(" "+_(e(o)("Previous")),1)]),_:1},8,["disabled"]),e(R)?(i(),r(Te,{key:1,size:30,width:"3",color:"success",indeterminate:""})):(i(),r(x,{key:0,color:"success",onClickOnce:ae},{default:m(()=>[b(_(e(o)("Save")),1)]),_:1})),e(f)!==e(V).length-1?(i(),r(x,{key:2,onClick:t[20]||(t[20]=l=>(f.value++,A()))},{default:m(()=>[b(_(e(o)("Next"))+" ",1),u(Q,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1})):d("",!0)])):d("",!0)]),_:1})]),_:1})]),_:1})):(i(),r(G,{key:2},{default:m(()=>[u(Y,null,{default:m(()=>[u(ee,null,{default:m(()=>[E("div",null,[u(te,null,{default:m(()=>[u(J,{visit:e(a),psychologist:!0},null,8,["visit"])]),_:1})])]),_:1})]),_:1})]),_:1}))]}),_:1})]),_:1})],64)}}});export{Zt as default};
