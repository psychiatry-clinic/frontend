import{a as Ae}from"./formatters-DocrwTSm.js";import{r as Oe,d as ee,p as Te}from"./validators-DR7cptrM.js";import{c as ue,b as Ne,o as le,a as Ie,d as ae}from"./suggestions-DtVrTijw.js";import{d as Fe,ap as Pe,k as ze,r,w as J,a as V,o as u,g as d,f as n,b as t,n as e,aj as Me,ad as m,c as B,x as U,e as v,z as s,i as $,F as R,v as _}from"./index-B-uKkDM3.js";import{_ as qe}from"./AppTextarea.vue_vue_type_script_setup_true_lang-guWQwSSl.js";import{_ as We}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-D4FjpNKY.js";import{_ as He}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-BwL2z7_Y.js";import{_ as je}from"./AppTextField.vue_vue_type_script_setup_true_lang-Cn5QAR7R.js";import{_ as Ge}from"./CustomRadios-fXX3lZoe.js";import{_ as Ke}from"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-mJ8WHKBm.js";import{P as Ze}from"./vue3-perfect-scrollbar.esm-Dfav_R1s.js";import{$ as Qe}from"./api-faFk6m2o.js";import{a as de,c as ie}from"./myFormat-D_0w4-pK.js";import{B as Ye}from"./BlobServiceClient-CR2xPX03.js";import{V as Le}from"./VForm-BiDs_Ppi.js";import{d as se}from"./differenceInYears-BdTDs0wt.js";const Je=v("h6",{class:"text-h6 text-primary"},"Image",-1),Xe={key:1,class:"text-5xl font-weight-medium"},el=v("label",{for:"picture"},"Take a picture using back facing camera:",-1),ll=v("h6",{class:"text-h6 text-primary"},"Basic Information",-1),al=v("span",{style:{"line-height":"15px",color:`rgba(\r
                          var(--v-theme-on-surface),\r
                          var(--v-high-emphasis-opacity)\r
                        )`},class:"v-label mb-1 text-body-2 text-black"},"Gender*",-1),tl=v("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Demographic Information ",-1),ol={class:"mt-5"},nl={class:"mt-5"},ul={class:"mt-5"},dl=v("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Parents Relationship ",-1),il=v("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Siblings ",-1),sl=v("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Order in Siblings ",-1),rl=v("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Father Information ",-1),ml={class:"mt-5"},cl={class:"mt-5"},pl=v("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Mother Information ",-1),vl={class:"mt-5"},fl={class:"mt-5"},hl=v("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Notes ",-1),Vl={class:"d-flex gap-4 justify-start pb-10"},bl="https://dakakean.blob.core.windows.net/psychiatry?sp=racwl&st=2024-05-02T06:46:34Z&se=2024-05-10T14:46:34Z&spr=https&sv=2022-11-02&sr=c&sig=oTStvDHsKPQiKZ4%2Bniqpd7Dt9w514Y52T6kIQlC5490%3D",_l="psychiatry",Il=Fe({__name:"ECommerceAddCustomerDrawer",props:{isDrawerOpen:{type:Boolean}},emits:["update:isDrawerOpen"],setup(re,{emit:me}){const ce=new Ye(bl).getContainerClient(_l),y=Pe("userData").value,pe=async()=>{const o=document.getElementById("picture");try{const a=[];if(o&&o.files){for(const Q of o.files){const X=ce.getBlockBlobClient(Q.name);a.push(X.uploadBrowserData(Q))}await Promise.all(a),E.value=(await a[0])._response.request.url}}catch(a){console.log(a)}},ve=re,te=me,fe=ze(),he=o=>{te("update:isDrawerOpen",o)},Ve=r({message:void 0}),be=[{title:"Child",value:"child"},{title:"Adult",value:"adult"}],c=r("");(y==null?void 0:y.clinic)==="Kadhimiya"?c.value="adult":c.value="child";const oe=r(),E=r(),A=r(),k=r("2024-01-01"),O=r(),F=r(),M=r("Male"),q=r(),T=r(),g=r(),P=r(),C=r(),N=r(),z=r(),w=r(),D=r(),W=r(),h=r(),H=r(),_e=r(),j=r(),G=r(),K=r(),I=r(),Z=r(""),S=r(),b=r(),ye=()=>{var o;(o=oe.value)==null||o.reset(),te("update:isDrawerOpen",!1)},ke=`/patients-new/${y==null?void 0:y.id}`,ge=async()=>{if(y)try{const o=await Qe(ke,{method:"POST",body:{doctor:y.id,name:A.value,dob:O.value?de(Ce(O.value)):de(k.value),gender:M.value,phone:q.value,avatar:E.value,father_dob:new Date(T.value,0,1),father_age:+P.value,father_work:C.value,father_edu:g.value,mother_dob:new Date(N.value,0,1),mother_age:+z.value,mother_work:D.value,mother_edu:w.value,related:W.value,siblings:+h.value,order:+H.value,familyHx:_e.value,notes:j.value,marital_status:G.value,children:K.value,residence:I.value,neighborhood:Z.value,occupation:S.value,education:b.value},onResponseError({response:a}){Ve.value=a._data}});console.log(o.id),fe.push(`/patients/${o.id}`)}catch(o){console.error(o)}};J(k,o=>{o&&(F.value=ie(o))}),J(O,o=>{o&&o.toString().length===4&&(F.value=ie(new Date(o).toString()))}),J(T,o=>{if(o.length===4){const a=new Date(T.value,0,1);P.value=se(k.value,a)}}),J(N,o=>{if(o.length===4){const a=new Date(N.value,0,1);z.value=se(k.value,a)}});const Ce=o=>{const a=new Date(o);return a.setMonth(0),a.setDate(1),a.toISOString().slice(0,10)};return(o,a)=>{const Q=Ke,X=V("VDivider"),we=Ge,i=V("VCol"),De=V("VImg"),Se=V("VAvatar"),f=je,Be=He,p=V("VRadio"),Y=V("VRadioGroup"),L=We,x=V("VChip"),Ue=qe,ne=V("VBtn"),xe=V("VRow"),$e=V("VCardText"),Re=V("VCard"),Ee=V("VNavigationDrawer");return u(),d(Ee,{"model-value":ve.isDrawerOpen,temporary:"",location:"end",width:"370",border:"none","onUpdate:modelValue":he},{default:n(()=>[t(Q,{title:"Add a Patient",onCancel:a[0]||(a[0]=l=>o.$emit("update:isDrawerOpen",!1))}),t(X),t(Re,{flat:""},{default:n(()=>[t(e(Ze),{options:{wheelPropagation:!1},class:"h-100"},{default:n(()=>[t($e,{style:{"block-size":"calc(100vh - 5rem)"}},{default:n(()=>[t(e(Le),{ref_key:"refVForm",ref:oe,onSubmit:a[27]||(a[27]=Me(()=>{},["prevent"]))},{default:n(()=>[t(xe,{class:"mb-2"},{default:n(()=>[t(i,null,{default:n(()=>[t(we,{"selected-radio":e(c),"onUpdate:selectedRadio":a[1]||(a[1]=l=>m(c)?c.value=l:null),"radio-content":be,"grid-column":{sm:"6",cols:"12"}},null,8,["selected-radio"])]),_:1}),t(i,{cols:"12"},{default:n(()=>[Je]),_:1}),t(i,{cols:"12"},{default:n(()=>[t(Se,{circle:"",size:100,color:e(E)?"undefined":"secondary",variant:e(E)?void 0:"tonal"},{default:n(()=>[e(E)?(u(),d(De,{key:0,src:e(E),style:{"object-fit":"cover"}},null,8,["src"])):(u(),B("span",Xe,U(("avatarText"in o?o.avatarText:e(Ae))(e(A))),1))]),_:1},8,["color","variant"])]),_:1}),t(i,{cols:"12"},{default:n(()=>[el,v("input",{type:"file",id:"picture",name:"picture",accept:"image/*",capture:"environment",onChange:pe},null,32)]),_:1}),t(i,{cols:"12"},{default:n(()=>[ll]),_:1}),t(i,{cols:"12"},{default:n(()=>[t(f,{modelValue:e(A),"onUpdate:modelValue":a[2]||(a[2]=l=>m(A)?A.value=l:null),label:"Name*",rules:["requiredValidator"in o?o.requiredValidator:e(Oe)],placeholder:""},null,8,["modelValue","rules"])]),_:1}),e(c)==="child"?(u(),d(i,{key:0,cols:"12"},{default:n(()=>[t(Be,{modelValue:e(k),"onUpdate:modelValue":a[3]||(a[3]=l=>m(k)?k.value=l:null),label:"Birth Date*",placeholder:"Select date"},null,8,["modelValue"])]),_:1})):s("",!0),t(i,{cols:"12"},{default:n(()=>[t(f,{modelValue:e(O),"onUpdate:modelValue":a[4]||(a[4]=l=>m(O)?O.value=l:null),label:"Birth Date*",placeholder:"",maxlength:"4",rules:["dateOfBirthValidator"in o?o.dateOfBirthValidator:e(ee)]},null,8,["modelValue","rules"])]),_:1}),t(i,{cols:"12"},{default:n(()=>[t(f,{disabled:"",modelValue:e(F),"onUpdate:modelValue":a[5]||(a[5]=l=>m(F)?F.value=l:null),label:"Age (Automatic)",placeholder:"",maxlength:"4"},null,8,["modelValue"])]),_:1}),t(i,{cols:"12"},{default:n(()=>[t(Y,{modelValue:e(M),"onUpdate:modelValue":a[6]||(a[6]=l=>m(M)?M.value=l:null),inline:""},{label:n(()=>[al]),default:n(()=>[t(p,{label:"Male",value:"Male"}),t(p,{label:"Female",value:"Female"})]),_:1},8,["modelValue"])]),_:1}),t(i,{cols:"12"},{default:n(()=>[t(f,{modelValue:e(q),"onUpdate:modelValue":a[7]||(a[7]=l=>m(q)?q.value=l:null),label:"Phone",placeholder:"",rules:["phoneNumberValidator"in o?o.phoneNumberValidator:e(Te)],maxlength:"11"},null,8,["modelValue","rules"])]),_:1}),t(i,null,{default:n(()=>[tl]),_:1}),e(c)==="adult"?(u(),d(i,{key:1,cols:"12"},{default:n(()=>[t(L,{modelValue:e(G),"onUpdate:modelValue":a[8]||(a[8]=l=>m(G)?G.value=l:null),label:"Marital Status",placeholder:"Select Status",items:["Married","Divorced","Single","Separated","Widow"]},null,8,["modelValue"])]),_:1})):s("",!0),e(c)==="adult"?(u(),d(i,{key:2,cols:"12"},{default:n(()=>[t(f,{modelValue:e(K),"onUpdate:modelValue":a[9]||(a[9]=l=>m(K)?K.value=l:null),placeholder:"Write a Number",label:"Children"},null,8,["modelValue"])]),_:1})):s("",!0),t(i,{cols:"12"},{default:n(()=>[t(L,{modelValue:e(I),"onUpdate:modelValue":a[10]||(a[10]=l=>m(I)?I.value=l:null),label:"Residence",placeholder:"Select Residence",items:"cities"in o?o.cities:e(ue)},null,8,["modelValue","items"]),v("div",ol,[(u(!0),B(R,null,$("cities"in o?o.cities:e(ue),l=>(u(),d(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{I.value=l}},{default:n(()=>[_(U(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1}),e(I)==="بغداد"?(u(),d(i,{key:3,cols:"12"},{default:n(()=>[t(L,{modelValue:e(Z),"onUpdate:modelValue":a[11]||(a[11]=l=>m(Z)?Z.value=l:null),label:"Neighborhood",placeholder:"Select",items:"baghdadRegions"in o?o.baghdadRegions:e(Ne)},null,8,["modelValue","items"])]),_:1})):s("",!0),e(c)==="adult"?(u(),d(i,{key:4,cols:"12"},{default:n(()=>[t(f,{modelValue:e(S),"onUpdate:modelValue":a[12]||(a[12]=l=>m(S)?S.value=l:null),placeholder:"Write an Occupation",label:"Occupation"},null,8,["modelValue"]),v("div",nl,[(u(!0),B(R,null,$("occupationSuggestions"in o?o.occupationSuggestions:e(le),l=>(u(),d(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{S.value=e(S)===""||e(S)===void 0?l:`${e(S)}, ${l}`}},{default:n(()=>[_(U(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:5,cols:"12"},{default:n(()=>[t(f,{modelValue:e(b),"onUpdate:modelValue":a[13]||(a[13]=l=>m(b)?b.value=l:null),label:"Education"},null,8,["modelValue"]),v("div",ul,[(u(!0),B(R,null,$("childEducation"in o?o.childEducation:e(Ie),l=>(u(),d(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{b.value=e(b)===""||e(b)===void 0?l:`${e(b)}, ${l}`}},{default:n(()=>[_(U(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):s("",!0),e(c)==="adult"?(u(),d(i,{key:6,cols:"12"},{default:n(()=>[t(L,{modelValue:e(b),"onUpdate:modelValue":a[14]||(a[14]=l=>m(b)?b.value=l:null),label:"Education",placeholder:"Select Education",items:"adultEducation"in o?o.adultEducation:e(ae)},null,8,["modelValue","items"])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:7},{default:n(()=>[dl]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:8,cols:"12"},{default:n(()=>[t(Y,{modelValue:e(W),"onUpdate:modelValue":a[15]||(a[15]=l=>m(W)?W.value=l:null),inline:""},{default:n(()=>[t(p,{label:"Related",value:!0}),t(p,{label:"Not Related",value:!1})]),_:1},8,["modelValue"])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:9},{default:n(()=>[il]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:10,cols:"12"},{default:n(()=>[t(Y,{modelValue:e(h),"onUpdate:modelValue":a[16]||(a[16]=l=>m(h)?h.value=l:null),inline:""},{default:n(()=>[t(p,{label:"0",value:0}),t(p,{label:"1",value:1}),t(p,{label:"2",value:2}),t(p,{label:"3",value:3}),t(p,{label:"4",value:4}),t(p,{label:"5",value:5}),t(p,{label:"6",value:6}),t(p,{label:"7",value:7}),t(p,{label:"8",value:8})]),_:1},8,["modelValue"])]),_:1})):s("",!0),e(h)>=1?(u(),d(i,{key:11},{default:n(()=>[sl]),_:1})):s("",!0),t(i,{cols:"12"},{default:n(()=>[t(Y,{modelValue:e(H),"onUpdate:modelValue":a[17]||(a[17]=l=>m(H)?H.value=l:null),inline:""},{default:n(()=>[e(h)>=1?(u(),d(p,{key:0,label:"1st",value:1})):s("",!0),e(h)>=1?(u(),d(p,{key:1,label:"2nd",value:2})):s("",!0),e(h)>1?(u(),d(p,{key:2,label:"3rd",value:3})):s("",!0),e(h)>2?(u(),d(p,{key:3,label:"4th",value:4})):s("",!0),e(h)>3?(u(),d(p,{key:4,label:"5th",value:5})):s("",!0),e(h)>4?(u(),d(p,{key:5,label:"6th",value:6})):s("",!0),e(h)>5?(u(),d(p,{key:6,label:"7th",value:7})):s("",!0),e(h)>6?(u(),d(p,{key:7,label:"8th",value:8})):s("",!0),e(h)>7?(u(),d(p,{key:8,label:"9th",value:8})):s("",!0)]),_:1},8,["modelValue"])]),_:1}),e(c)==="child"?(u(),d(i,{key:12},{default:n(()=>[rl]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:13,cols:"12"},{default:n(()=>[t(f,{modelValue:e(T),"onUpdate:modelValue":a[18]||(a[18]=l=>m(T)?T.value=l:null),label:"Date of Birth",rules:["dateOfBirthValidator"in o?o.dateOfBirthValidator:e(ee)],placeholder:"",maxlength:"4"},null,8,["modelValue","rules"])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:14,cols:"12"},{default:n(()=>[t(f,{modelValue:e(P),"onUpdate:modelValue":a[19]||(a[19]=l=>m(P)?P.value=l:null),label:"Age at Birth",placeholder:"",disabled:""},null,8,["modelValue"])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:15,cols:"12"},{default:n(()=>[t(f,{modelValue:e(g),"onUpdate:modelValue":a[20]||(a[20]=l=>m(g)?g.value=l:null),label:"Education",placeholder:""},null,8,["modelValue"]),v("div",ml,[(u(!0),B(R,null,$("adultEducation"in o?o.adultEducation:e(ae),l=>(u(),d(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{g.value=e(g)===""||e(g)===void 0?l:`${e(g)}, ${l}`}},{default:n(()=>[_(U(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:16,cols:"12"},{default:n(()=>[t(f,{modelValue:e(C),"onUpdate:modelValue":a[21]||(a[21]=l=>m(C)?C.value=l:null),label:"Work",placeholder:""},null,8,["modelValue"]),v("div",cl,[(u(!0),B(R,null,$("occupationSuggestions"in o?o.occupationSuggestions:e(le),l=>(u(),d(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{C.value=e(C)===""||e(C)===void 0?l:`${e(C)}, ${l}`}},{default:n(()=>[_(U(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:17},{default:n(()=>[pl]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:18,cols:"12"},{default:n(()=>[t(f,{modelValue:e(N),"onUpdate:modelValue":a[22]||(a[22]=l=>m(N)?N.value=l:null),label:"Date of Birth",rules:["dateOfBirthValidator"in o?o.dateOfBirthValidator:e(ee)],placeholder:"",maxlength:"4"},null,8,["modelValue","rules"])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:19,cols:"12"},{default:n(()=>[t(f,{modelValue:e(z),"onUpdate:modelValue":a[23]||(a[23]=l=>m(z)?z.value=l:null),label:"Age at Birth",placeholder:"",disabled:""},null,8,["modelValue"])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:20,cols:"12"},{default:n(()=>[t(f,{modelValue:e(w),"onUpdate:modelValue":a[24]||(a[24]=l=>m(w)?w.value=l:null),label:"Education",placeholder:""},null,8,["modelValue"]),v("div",vl,[(u(!0),B(R,null,$("adultEducation"in o?o.adultEducation:e(ae),l=>(u(),d(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{w.value=e(w)===""||e(w)===void 0?l:`${e(w)}, ${l}`}},{default:n(()=>[_(U(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):s("",!0),e(c)==="child"?(u(),d(i,{key:21,cols:"12"},{default:n(()=>[t(f,{modelValue:e(D),"onUpdate:modelValue":a[25]||(a[25]=l=>m(D)?D.value=l:null),label:"Work",placeholder:""},null,8,["modelValue"]),v("div",fl,[(u(!0),B(R,null,$("occupationSuggestions"in o?o.occupationSuggestions:e(le),l=>(u(),d(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{D.value=e(D)===""||e(D)===void 0?l:`${e(D)}, ${l}`}},{default:n(()=>[_(U(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):s("",!0),t(i,null,{default:n(()=>[hl]),_:1}),t(i,{cols:"12"},{default:n(()=>[t(Ue,{modelValue:e(j),"onUpdate:modelValue":a[26]||(a[26]=l=>m(j)?j.value=l:null)},null,8,["modelValue"])]),_:1}),t(i,{cols:"12"},{default:n(()=>[v("div",Vl,[t(ne,{type:"submit",color:"primary",disabled:!e(A)||!e(k),onClick:ge},{default:n(()=>[_(" Add ")]),_:1},8,["disabled"]),t(ne,{color:"error",variant:"tonal",onClick:ye},{default:n(()=>[_(" Discard ")]),_:1})])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{Il as _};
