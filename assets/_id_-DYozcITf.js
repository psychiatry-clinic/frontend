import{_ as fe}from"./AppStepper.vue_vue_type_style_index_0_lang-BwKQ1RJO.js";import{_ as _e}from"./chiefComplaint.vue_vue_type_script_setup_true_lang-CLpKOwgV.js";import{_ as ce}from"./ixVue.vue_vue_type_script_setup_true_lang-DH7Gvslk.js";import{_ as ve}from"./managementVue.vue_vue_type_script_setup_true_lang-D0h13cAd.js";import{_ as Ve}from"./consultationsVue.vue_vue_type_script_setup_true_lang-hi60fW0V.js";import{_ as be}from"./ddxVue.vue_vue_type_script_setup_true_lang-BQPdwKjA.js";import{_ as xe}from"./developmentVue.vue_vue_type_script_setup_true_lang-DfSK7Cri.js";import{_ as ye}from"./examination.vue_vue_type_script_setup_true_lang-D9olA1hy.js";import{_ as ke}from"./familyHx.vue_vue_type_script_setup_true_lang-B7Y6ijIA.js";import{_ as Ce}from"./forensicHx.vue_vue_type_script_setup_true_lang-COtNTC-U.js";import{_ as $e}from"./notesVue.vue_vue_type_script_setup_true_lang-DYHGDH5s.js";import{_ as we}from"./occupationHx.vue_vue_type_script_setup_true_lang-imeSNaUz.js";import ge from"./pastHx-DUQZWFlG.js";import{_ as Ue}from"./personalHx.vue_vue_type_script_setup_true_lang-Bt1Yl2-B.js";import{_ as Se}from"./presentIllnessChild.vue_vue_type_script_setup_true_lang-DpCs8341.js";import{_ as He}from"./socialHx.vue_vue_type_script_setup_true_lang-Dqw8KWte.js";import{d as Re,ap as Fe,k as Pe,j as he,r as o,aq as Be,w as Ne,a as _,o as u,c as te,e as oe,b as a,f as i,v as y,n as l,x as Ie,ad as s,g as r,z as m,F as Ae}from"./index-DrFL9zv-.js";import{u as je}from"./useApi-CF-Kf49g.js";import{$ as De}from"./api-Bb9MUQYX.js";import{a as Ee}from"./differenceInYears-BdTDs0wt.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-YWI8lO30.js";import"./suggestions-DtVrTijw.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-CZ5Ws0u7.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-BGs8UniO.js";import"./validators-DR7cptrM.js";import"./helpers-BGv4x_9E.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B3bPRkoL.js";const Te={class:"d-flex justify-space-between"},qe={key:0},Me={class:"d-flex flex-wrap gap-4 justify-sm-space-between justify-center mt-8"},bl=Re({__name:"[id]",async setup(Ge){var G,O,W,Y,z,J,K,L,Q,X;let k,D;const p=Fe("userData").value,E=Pe(),v=he(),n=o(!1),T=[{title:"Chief Complaint",subtitle:""},{title:"Present Illness",subtitle:""},{title:"Family History",subtitle:""},{title:"Past History",subtitle:""},{title:"Social History",subtitle:""},{title:"Personal History",subtitle:""},{title:"Occupational History",subtitle:""},{title:"Forensic History",subtitle:""},{title:"Examination",subtitle:""},{title:"Differential Diagnosis",subtitle:""},{title:"Investigation",subtitle:""},{title:"Notes",subtitle:""},{title:"Management",subtitle:""}],q=[{title:"Follow up Notes",subtitle:""},{title:"Management",subtitle:""}],M=[{title:"Chief Complaint",subtitle:""},{title:"Present Illness",subtitle:""},{title:"Development History",subtitle:""},{title:"Family History",subtitle:""},{title:"Past History",subtitle:""},{title:"Social History",subtitle:""},{title:"Examination",subtitle:""},{title:"Consultations",subtitle:""},{title:"Differential Diagnosis",subtitle:""},{title:"Investigations",subtitle:""},{title:"Notes",subtitle:""},{title:"Management",subtitle:""}],ae=o({message:void 0}),c=Ee(new Date,new Date(v.query.dob))<14,{data:d}=([k,D]=Be(()=>je(`/patients/${p==null?void 0:p.id}/${v.params.id}`)),k=await k,D(),k);let V=o();V.value=c?M:n.value?q:T,Ne(n,b=>{V.value=c?M:n.value?q:T});const f=o(0);o(v.params.id),o(p==null?void 0:p.id),o(),o(),o();const C=o({complaint:""}),$=o({notes:""}),w=o(((G=d.value)==null?void 0:G.development)||{selectedYear:[],selectedPeripartum:[]}),g=o((O=d.value)!=null&&O.family_hx?d.value.family_hx:{different:"",medical:"",other:"",similar:""}),U=o((W=d.value)!=null&&W.past_hx?d.value.past_hx:{}),S=o((Y=d.value)!=null&&Y.social_hx?d.value.social_hx:{}),H=o((z=d.value)!=null&&z.personal_hx?(J=d.value)==null?void 0:J.personal_hx:{}),R=o((K=d.value)!=null&&K.occupation_hx?(L=d.value)==null?void 0:L.occupation_hx:{}),F=o((Q=d.value)!=null&&Q.forensic_hx?(X=d.value)==null?void 0:X.forensic_hx:{}),P=o({}),h=o({investigations:[{name:"",result:""}]}),B=o({consultations:[{branch:"",result:""}]}),N=o({managements:[{name:"",form:"",dose:""}]}),I=o(),A=o(),ne=`/visits-new/${p==null?void 0:p.id}/${v.params.id}`,se=async()=>{if(p)try{const b=await De(ne,{method:"POST",body:{chief_complaint:C.value,present_illness:$.value,examination:P.value,ddx:I.value,ix:h.value,management:N.value,consultations:B.value,notes:A.value,social_hx:S.value,family_hx:g.value,personal_hx:H.value,forensic_hx:F.value,occupation_hx:R.value,past_hx:U.value,development:w.value,follow_up:n.value},onResponseError({response:e}){ae.value=e._data}});console.log(b),E.push(`/patients/${v.params.id}`)}catch(b){console.error(b)}};return(b,e)=>{const x=_("VBtn"),Z=_("VRadio"),ue=_("VRadioGroup"),j=_("VCardText"),ie=fe,ee=_("VCol"),me=_("VWindow"),le=_("VIcon"),re=_("VForm"),de=_("VRow"),pe=_("VCard");return u(),te(Ae,null,[oe("div",Te,[a(x,{variant:"outlined",class:"mb-5",onClick:l(E).back},{default:i(()=>[y(" Back ")]),_:1},8,["onClick"]),a(x,{variant:"outlined",color:"secondary"},{default:i(()=>[y(" Patient : "+Ie(l(v).query.name),1)]),_:1})]),a(pe,null,{default:i(()=>[a(de,null,{default:i(()=>[a(ee,{cols:"12",md:"3",class:"border-e"},{default:i(()=>[a(j,null,{default:i(()=>[a(ue,{modelValue:l(n),"onUpdate:modelValue":e[0]||(e[0]=t=>s(n)?n.value=t:null),inline:""},{default:i(()=>[a(Z,{label:"Classic",value:!1}),a(Z,{label:"Follow Up",value:!0})]),_:1},8,["modelValue"])]),_:1}),a(j,null,{default:i(()=>[a(ie,{"current-step":l(f),"onUpdate:currentStep":e[1]||(e[1]=t=>s(f)?f.value=t:null),direction:"vertical",items:l(V)},null,8,["current-step","items"])]),_:1})]),_:1}),a(ee,{cols:"12",md:"9"},{default:i(()=>[a(j,null,{default:i(()=>[a(re,null,{default:i(()=>[l(V)?(u(),te("div",qe,[a(me,{modelValue:l(f),"onUpdate:modelValue":e[17]||(e[17]=t=>s(f)?f.value=t:null),class:"disable-tab-transition"},{default:i(()=>[l(n)?m("",!0):(u(),r(_e,{key:0,modelValue:l(C),"onUpdate:modelValue":e[2]||(e[2]=t=>s(C)?C.value=t:null)},null,8,["modelValue"])),l(n)?m("",!0):(u(),r(Se,{key:1,modelValue:l($),"onUpdate:modelValue":e[3]||(e[3]=t=>s($)?$.value=t:null),child:c},null,8,["modelValue"])),c&&!l(n)?(u(),r(xe,{key:2,modelValue:l(w),"onUpdate:modelValue":e[4]||(e[4]=t=>s(w)?w.value=t:null)},null,8,["modelValue"])):m("",!0),l(n)?m("",!0):(u(),r(ke,{key:3,modelValue:l(g),"onUpdate:modelValue":e[5]||(e[5]=t=>s(g)?g.value=t:null)},null,8,["modelValue"])),l(n)?m("",!0):(u(),r(ge,{key:4,modelValue:l(U),"onUpdate:modelValue":e[6]||(e[6]=t=>s(U)?U.value=t:null)},null,8,["modelValue"])),l(n)?m("",!0):(u(),r(He,{key:5,modelValue:l(S),"onUpdate:modelValue":e[7]||(e[7]=t=>s(S)?S.value=t:null)},null,8,["modelValue"])),!c&&!l(n)?(u(),r(Ue,{key:6,modelValue:l(H),"onUpdate:modelValue":e[8]||(e[8]=t=>s(H)?H.value=t:null)},null,8,["modelValue"])):m("",!0),!c&&!l(n)?(u(),r(we,{key:7,modelValue:l(R),"onUpdate:modelValue":e[9]||(e[9]=t=>s(R)?R.value=t:null)},null,8,["modelValue"])):m("",!0),!c&&!l(n)?(u(),r(Ce,{key:8,modelValue:l(F),"onUpdate:modelValue":e[10]||(e[10]=t=>s(F)?F.value=t:null)},null,8,["modelValue"])):m("",!0),l(n)?m("",!0):(u(),r(ye,{key:9,modelValue:l(P),"onUpdate:modelValue":e[11]||(e[11]=t=>s(P)?P.value=t:null)},null,8,["modelValue"])),c&&!l(n)?(u(),r(Ve,{key:10,modelValue:l(B),"onUpdate:modelValue":e[12]||(e[12]=t=>s(B)?B.value=t:null)},null,8,["modelValue"])):m("",!0),l(n)?m("",!0):(u(),r(be,{key:11,modelValue:l(I),"onUpdate:modelValue":e[13]||(e[13]=t=>s(I)?I.value=t:null),child:c},null,8,["modelValue"])),l(n)?m("",!0):(u(),r(ce,{key:12,modelValue:l(h),"onUpdate:modelValue":e[14]||(e[14]=t=>s(h)?h.value=t:null)},null,8,["modelValue"])),a($e,{modelValue:l(A),"onUpdate:modelValue":e[15]||(e[15]=t=>s(A)?A.value=t:null)},null,8,["modelValue"]),a(ve,{modelValue:l(N),"onUpdate:modelValue":e[16]||(e[16]=t=>s(N)?N.value=t:null)},null,8,["modelValue"])]),_:1},8,["modelValue"])])):m("",!0),oe("div",Me,[a(x,{color:"secondary",variant:"tonal",disabled:l(f)===0,onClick:e[18]||(e[18]=t=>f.value--)},{default:i(()=>[a(le,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),y(" Previous ")]),_:1},8,["disabled"]),a(x,{color:"success",onClick:se},{default:i(()=>[y(" Submit ")]),_:1}),l(f)!==l(V).length-1?(u(),r(x,{key:0,onClick:e[19]||(e[19]=t=>f.value++)},{default:i(()=>[y(" Next "),a(le,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1})):m("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{bl as default};
