import{_ as O}from"./TablePagination.vue_vue_type_script_setup_true_lang-DPbc7bpC.js";import{_ as S}from"./AppSelect.vue_vue_type_script_setup_true_lang-Bm41UUr8.js";import{_ as R}from"./AppTextField.vue_vue_type_script_setup_true_lang-yR3ZnxsE.js";import{_ as z}from"./addPatient.vue_vue_type_style_index_0_lang-CCmGQjIe.js";import{d as h,aV as j,k as q,r as n,b8 as F,b9 as E,a6 as w,a as G,o as V,c as M,b as i,f as p,e as y,n as t,aX as l,g as B,v as Q,x as X,aj as H,z as J,a0 as K}from"./index-DJK8Lh3k.js";import{u as L}from"./useApi-D6K130Rj.js";import{c as W}from"./createUrl-BgreiGXr.js";import{r as Y,c as Z,b as ee}from"./myFormat-7qX9zHos.js";import{V as te}from"./VCardText-BGcLD_gp.js";import{V as oe}from"./VDivider-CU8KeWw3.js";import{V as re}from"./VDataTableServer-4671pTD2.js";import{V as ae}from"./VCard-DkgZILkN.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VPagination-BLw91mhv.js";import"./form-BGMD_cGM.js";import"./VSelect-TZda5MoS.js";import"./VTextField-Cb9S_rMs.js";/* empty css                   */import"./VCounter-C1FRcZwp.js";import"./index-BZci-wG1.js";import"./index-BRaOns3d.js";import"./VField-CGu8dBTz.js";import"./easing-CjukEv2V.js";import"./VInput-8cs8WI0M.js";import"./forwardRefs-C-GTDzx5.js";import"./VList-J4XO3K-6.js";import"./ssrBoot-CrcZ9ADA.js";import"./createSimpleFunctional-jP_o7FLK.js";import"./VAvatar-qaXp0xsC.js";import"./VImg-DPzoCJp4.js";import"./dialog-transition-omJ9t-38.js";import"./VMenu-DYVaN7zP.js";import"./VOverlay-WPLTkvXm.js";import"./lazy-V3xAgdG3.js";import"./scopeId-5NHimqIh.js";import"./VCheckboxBtn-Ik9trZ8I.js";import"./VSelectionControl-4o5HxJys.js";import"./VChip-DGuEKeYK.js";import"./VSlideGroup-c-cqpt09.js";import"./formatters-DocrwTSm.js";import"./helpers-BGv4x_9E.js";import"./validators-DR7cptrM.js";import"./suggestions-2VnU4gHn.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-BfxaYFmE.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-BFiX5YVR.js";import"./filter-DZGhCPAA.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-z8s7EmX2.js";import"./CustomRadios-CEYp_ccn.js";import"./VRow-Bab3Fwf5.js";/* empty css              */import"./VRadioGroup-DTfMYSlw.js";import"./VSpacer-QZejqEyV.js";import"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-C1o3G7Hi.js";import"./vue3-perfect-scrollbar.esm-CJnxlaNM.js";import"./api-BM1Sc3It.js";import"./index-B3bPRkoL.js";import"./VForm-DtBbJSdp.js";import"./VAlert-kXZ2kqfO.js";import"./VNavigationDrawer-DfHBzCa5.js";import"./BlobServiceClient-CR2xPX03.js";import"./__vite-browser-external-DFygW7-s.js";import"./differenceInYears-BdTDs0wt.js";import"./VDataTable-qNOZyoMs.js";import"./VTable-BTWB3ykX.js";const se={class:"d-flex justify-space-between flex-wrap gap-y-4"},me={class:"d-flex flex-row gap-4 align-center flex-wrap"},ne={class:"d-flex gap-1"},pe=h({__name:"index",async setup(le){let c,x;const{t:a}=j(),D=q(),f=n(""),d=n(!1),s=n(10),m=n(1),k=n(),b=n(),P=[{title:a("Patient"),key:"name"},{title:a("Gender"),key:"gender"},{title:a("Date of Birth"),key:"dob"},{title:a("Age"),key:"age"},{title:a("Visits"),key:"visits.length"},{title:a("Registration"),key:"createdAt"},{title:a("ACTIONS"),key:"actions"}],T=o=>{var e,g;k.value=(e=o.sortBy[0])==null?void 0:e.key,b.value=(g=o.sortBy[0])==null?void 0:g.order},_=F("userData").value,N=`/patients/${_==null?void 0:_.id}`;let{data:v}=([c,x]=E(()=>L(W(N,{query:{q:f,itemsPerPage:s,page:m,sortBy:k,orderBy:b}}))),c=await c,x(),c);const A=w(()=>v.value?v.value.patients.map(o=>({...o,createdAt:Y(o.createdAt),age:Z(o.dob.toString()),dob:ee(o.dob),gender:a(o.gender)})):[]),C=w(()=>{var o;return(o=v.value)==null?void 0:o.total});return(o,e)=>{const g=R,$=S,I=O,U=G("IconBtn");return V(),M("div",null,[i(ae,null,{default:p(()=>[i(te,null,{default:p(()=>{var r;return[y("div",se,[i(g,{modelValue:t(f),"onUpdate:modelValue":e[0]||(e[0]=u=>l(f)?f.value=u:null),style:{"max-inline-size":"280px","min-inline-size":"280px"},placeholder:t(a)("Search Name")},null,8,["modelValue","placeholder"]),y("div",me,[i($,{modelValue:t(s),"onUpdate:modelValue":e[1]||(e[1]=u=>l(s)?s.value=u:null),items:[5,10,20,50,100]},null,8,["modelValue"]),((r=t(_))==null||r.role,V(),B(H,{key:0,"prepend-icon":"tabler-plus",onClick:e[2]||(e[2]=u=>d.value=!t(d))},{default:p(()=>[Q(X(t(a)("Add Patient")),1)]),_:1}))])])]}),_:1}),i(oe),t(A)!==null?(V(),B(re,{key:0,"items-per-page":t(s),"onUpdate:itemsPerPage":e[4]||(e[4]=r=>l(s)?s.value=r:null),page:t(m),"onUpdate:page":e[5]||(e[5]=r=>l(m)?m.value=r:null),items:t(A),"item-value":"name",headers:P,"items-length":t(C),class:"text-no-wrap","onUpdate:options":T},{bottom:p(()=>[i(I,{page:t(m),"onUpdate:page":e[3]||(e[3]=r=>l(m)?m.value=r:null),"items-per-page":t(s),"total-items":t(C)},null,8,["page","items-per-page","total-items"])]),"item.actions":p(({item:r})=>[y("div",ne,[i(U,{onClick:u=>t(D).push(`/patients/${r.id}`)},{default:p(()=>[i(K,{icon:"tabler-edit"})]),_:2},1032,["onClick"])])]),_:1},8,["items-per-page","page","items","items-length"])):J("",!0)]),_:1}),i(z,{"is-drawer-open":t(d),"onUpdate:isDrawerOpen":e[6]||(e[6]=r=>l(d)?d.value=r:null)},null,8,["is-drawer-open"])])}}}),kt=ie(pe,[["__scopeId","data-v-4a04860f"]]);export{kt as default};
