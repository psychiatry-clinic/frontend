import{_ as U}from"./AppTextField.vue_vue_type_script_setup_true_lang-CcB8QWg0.js";import{_ as k}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-D7Rln5yF.js";import{d as E,b$ as M,b_ as $,r as A,ax as F,a as i,o as p,g as f,f as o,b as t,c as L,i as R,n as x,F as H,aj as S,e as _,z as W}from"./index-CJpjWKD8.js";const j=_("h6",{class:"text-h6 font-weight-medium"},"Consultation",-1),z=_("p",{class:"mb-0"},null,-1),O=_("span",null," Add New Consultation ",-1),J=E({__name:"consult",props:M({edit:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){var b;const C=v,s=$(v,"modelValue"),e=A(((b=s.value)==null?void 0:b.consultations)||[]);s.value&&C.edit&&(console.log(s.value),console.log(e.value),e.value=s.value);let r=null;document.addEventListener("blur",()=>{r&&clearTimeout(r),r=setTimeout(V,2e3)},!0),F(()=>{document.removeEventListener("blur",V,!0),r&&clearTimeout(r)});function g(){e.value&&(e.value&&e.value[e.value.length-1].branch===""||e.value[e.value.length-1].result===""||e.value.push({branch:"",result:""}))}function h(l){var n;const a=(n=e.value)==null?void 0:n[l];return!!(a!=null&&a.branch)}function w(l){!e.value||!e.value[l]||(e.value[l].branch=e.value[l].branch.toUpperCase())}function V(){if(!s.value||!e.value||!e.value[0])return;const l=e.value[0];e.value=[l,...e.value.slice(1).filter((a,n)=>!("result"in a)||a.branch.trim()!=="")]}return(l,a)=>{const n=i("VCol"),m=i("VRow"),N=k,y=U,B=i("VIcon"),I=i("VBtn"),T=i("VWindowItem");return p(),f(T,null,{default:o(()=>[t(m,null,{default:o(()=>[t(n,{cols:"12"},{default:o(()=>[j,z]),_:1})]),_:1}),(p(!0),L(H,null,R(x(e),(u,d)=>(p(),f(m,{key:d},{default:o(()=>[t(n,{cols:"6"},{default:o(()=>[t(N,{placeholder:u.branch?"":"Type branch for consultation",items:["Neurology","Hearing","Medicine","ENT","Speech & Hearing","Ophthalmology"],modelValue:u.branch,"onUpdate:modelValue":c=>u.branch=c,onInput:c=>w(d)},null,8,["placeholder","modelValue","onUpdate:modelValue","onInput"])]),_:2},1024),t(n,{cols:"6"},{default:o(()=>[h(d)?(p(),f(y,{key:0,placeholder:u.result?"":"Type Result of consultation",modelValue:u.result,"onUpdate:modelValue":c=>u.result=c,onInput:c=>h(d)},null,8,["placeholder","modelValue","onUpdate:modelValue","onInput"])):W("",!0)]),_:2},1024)]),_:2},1024))),128)),t(m,null,{default:o(()=>[t(n,{cols:"12"},{default:o(()=>[t(I,{variant:"outlined",onClick:S(g,["prevent"])},{default:o(()=>[t(B,{icon:"tabler-plus",end:"",class:"flip-in-rtl me-2"}),O]),_:1})]),_:1})]),_:1})]),_:1})}}});export{J as default};
