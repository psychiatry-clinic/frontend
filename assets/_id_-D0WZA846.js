import{a as Q,b as J}from"./formatters-DocrwTSm.js";import{r as j,c as U,f as X,g as Z}from"./myFormat-D_0w4-pK.js";import{_ as tt}from"./UserInfoEditDialog.vue_vue_type_script_setup_true_lang-C60Q8HZT.js";import{_ as et}from"./editPatient.vue_vue_type_style_index_0_lang-BNOv_6Mn.js";import{d as O,r as T,a4 as at,a as l,o as c,c as x,b as a,f as e,g as D,x as o,n as s,e as t,v as i,z as k,y as nt,F as B,i as L,ad as H,Q as ot,R as st,ap as Y,k as G,j as K,b0 as lt,aq as it}from"./index-B-uKkDM3.js";import{a as dt,d as M}from"./differenceInYears-BdTDs0wt.js";import{_ as ct}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as rt}from"./validators-DR7cptrM.js";import{e as _t}from"./suggestions-DtVrTijw.js";import{_ as pt}from"./AppTextarea.vue_vue_type_script_setup_true_lang-guWQwSSl.js";import{d as ut,f as mt}from"./formatDistanceToNow-B-7GnHlM.js";import{u as ft}from"./useApi-CiYK4OrD.js";import{$ as ht}from"./api-faFk6m2o.js";import"./helpers-BGv4x_9E.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-D4FjpNKY.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-Cn5QAR7R.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-DZaDyTKZ.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-BwL2z7_Y.js";import"./transition-93Gr3-GY.js";import"./form-CdnDFzDY.js";import"./CustomRadios-fXX3lZoe.js";import"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-mJ8WHKBm.js";import"./vue3-perfect-scrollbar.esm-Dfav_R1s.js";import"./VForm-BiDs_Ppi.js";import"./BlobServiceClient-CR2xPX03.js";import"./__vite-browser-external-DFygW7-s.js";import"./index-B3bPRkoL.js";const R=w=>(ot("data-v-5c3241aa"),w=w(),st(),w),bt={key:1,class:"text-5xl font-weight-medium"},Vt={class:"text-h5 mt-4"},Dt={class:"text-h6"},xt={class:"text-body-1 d-inline-block"},yt={class:"text-h6"},vt={class:"text-body-1 d-inline-block"},gt={class:"text-h6"},kt={class:"text-body-1 d-inline-block"},wt={class:"text-h6"},Ct={class:"text-body-1 d-inline-block"},Tt=R(()=>t("p",{class:"d-block mt-4 mb-2 text-primary"},"Demographics",-1)),$t={key:0},At={class:"text-h6"},It={class:"text-body-1 d-inline-block"},Et={class:"text-h6"},Pt={class:"text-body-1 d-inline-block"},Bt={class:"text-h6"},Rt={class:"text-body-1 d-inline-block"},St={class:"text-h6"},Nt={class:"text-body-1 d-inline-block"},Ft={class:"text-h6"},Wt={class:"text-body-1 d-inline-block"},Lt=R(()=>t("br",null,null,-1)),Ht={key:1},Ot={class:"text-h6"},qt=R(()=>t("p",{class:"d-block mt-4 mb-2 text-primary"},"Father",-1)),zt={class:"text-h6"},Ut={class:"text-body-1 d-inline-block"},jt={class:"text-h6"},Mt={class:"text-body-1 d-inline-block"},Yt={class:"text-h6"},Gt={class:"text-body-1 d-inline-block"},Kt={class:"text-h6"},Qt={class:"text-body-1 d-inline-block"},Jt={class:"text-h6"},Xt={class:"text-body-1 d-inline-block"},Zt=R(()=>t("p",{class:"d-block mt-4 mb-2 text-primary"},"Mother",-1)),te={class:"text-h6"},ee={class:"text-body-1 d-inline-block"},ae={class:"text-h6"},ne={class:"text-body-1 d-inline-block"},oe={class:"text-h6"},se={class:"text-body-1 d-inline-block"},le={class:"text-h6"},ie={class:"text-body-1 d-inline-block"},de={class:"text-h6"},ce={class:"text-body-1 d-inline-block"},re=R(()=>t("br",null,null,-1)),_e={class:"text-h6 text-primary"},pe={class:"text-body-1 d-inline-block"},ue={class:"text-h6 text-primary"},me={class:"text-body-1 d-inline-block"},fe=R(()=>t("br",null,null,-1)),he={class:"text-h6 text-primary"},be={class:"text-body-1 d-inline-block"},Ve=R(()=>t("br",null,null,-1)),De=O({__name:"CustomerBioPanel",props:{patientData:{}},setup(w){const b=T(!1),V=T(!1),n=w,r=T(n.patientData),_=at(()=>({...r.value,createdAt:j(r.value.createdAt),age:U(r.value.dob),dob:j(r.value.dob)})),p=dt(new Date,new Date(n.patientData.dob))<14;let f=[];return p?f=[{name:"Family History",data:r.value.family_hx},{name:"Social History",data:r.value.social_hx}]:f=[{name:"Family History",data:r.value.family_hx},{name:"Social History",data:r.value.social_hx},{name:"Personal History",data:r.value.personal_hx},{name:"Occupation History",data:r.value.occupation_hx},{name:"Forensic History",data:r.value.forensic_hx}],(m,y)=>{const $=l("VImg"),A=l("VAvatar"),v=l("VCardText"),d=l("VListItem"),h=l("VList"),I=l("VExpansionPanelTitle"),g=l("VExpansionPanelText"),S=l("VExpansionPanel"),N=l("VExpansionPanels"),P=l("VBtn"),F=l("VCard"),W=l("VCol"),C=l("VRow"),q=tt;return c(),x(B,null,[a(C,null,{default:e(()=>[a(W,{cols:"12"},{default:e(()=>[n.patientData?(c(),D(F,{key:0},{default:e(()=>[a(v,{class:"text-center pt-12"},{default:e(()=>[a(A,{rounded:"",size:120,color:n.patientData.name?void 0:"primary",variant:n.patientData.avatar?void 0:"tonal"},{default:e(()=>[n.patientData.avatar?(c(),D($,{key:0,src:n.patientData.avatar},null,8,["src"])):(c(),x("span",bt,o(("avatarText"in m?m.avatarText:s(Q))(n.patientData.name)),1))]),_:1},8,["color","variant"]),t("h5",Vt,o(n.patientData.name),1)]),_:1}),a(v,null,{default:e(()=>[a(h,{class:"card-list mt-2"},{default:e(()=>[a(d,null,{default:e(()=>[t("h6",Dt,[i(" Gender: "),t("span",xt,o(n.patientData.gender),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",yt,[i(" Birth Date : "),t("span",vt,o(("removeTimeFromDate"in m?m.removeTimeFromDate:s(j))(n.patientData.dob)),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",gt,[i(" Age : "),t("span",kt,o(("calculateAge"in m?m.calculateAge:s(U))(n.patientData.dob)),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",wt,[i(" Phone : "),t("span",Ct,o(n.patientData.phone),1)])]),_:1}),Tt,n.patientData.demographics?(c(),x("div",$t,[p?(c(),D(d,{key:0},{default:e(()=>{var u;return[t("h6",At,[i(" Marital Status : "),t("span",It,o((u=n.patientData.demographics[0])==null?void 0:u.marital_status),1)])]}),_:1})):k("",!0),p?(c(),D(d,{key:1},{default:e(()=>{var u;return[t("h6",Et,[i(" Children : "),t("span",Pt,o((u=n.patientData.demographics[0])==null?void 0:u.children),1)])]}),_:1})):k("",!0),a(d,null,{default:e(()=>{var u;return[t("h6",Bt,[i(" Residence : "),t("span",Rt,o((u=n.patientData.demographics[0])==null?void 0:u.residence),1)])]}),_:1}),a(d,null,{default:e(()=>{var u;return[t("h6",St,[i(" Education : "),t("span",Nt,o((u=n.patientData.demographics[0])==null?void 0:u.education),1)])]}),_:1}),p?(c(),D(d,{key:2},{default:e(()=>{var u;return[t("h6",Ft,[i(" Work : "),t("span",Wt,o((u=n.patientData.demographics[0])==null?void 0:u.occupation),1)])]}),_:1})):k("",!0)])):k("",!0),Lt,p?(c(),x("div",Ht,[a(d,null,{default:e(()=>[t("h6",Ot,[t("span",{class:nt(n.patientData.related?"text-primary":"")},o(n.patientData.related?"Related":"Not Related"),3),i(" Parents ")])]),_:1}),qt,a(d,null,{default:e(()=>[t("h6",zt,[i(" Birth Date : "),t("span",Ut,o(n.patientData.father_dob?new Date(n.patientData.father_dob).getFullYear():""),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",jt,[i(" Age at Birth : "),t("span",Mt,o(n.patientData.father_dob?s(M)(n.patientData.dob,n.patientData.father_dob):""),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",Yt,[i(" Age Now : "),t("span",Gt,o(n.patientData.father_dob?("calculateAge"in m?m.calculateAge:s(U))(n.patientData.father_dob?n.patientData.father_dob.toString():"1"):""),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",Kt,[i(" Education : "),t("span",Qt,o(n.patientData.father_edu),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",Jt,[i(" Work : "),t("span",Xt,o(n.patientData.father_work),1)])]),_:1}),Zt,a(d,null,{default:e(()=>[t("h6",te,[i(" Birth Date : "),t("span",ee,o(n.patientData.mother_dob?new Date(n.patientData.mother_dob).getFullYear():""),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",ae,[i(" Age at Birth : "),t("span",ne,o(n.patientData.mother_dob?s(M)(n.patientData.dob,n.patientData.mother_dob):""),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",oe,[i(" Age Now : "),t("span",se,o(n.patientData.mother_dob?("calculateAge"in m?m.calculateAge:s(U))(n.patientData.mother_dob?n.patientData.mother_dob.toString():"1"):""),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",le,[i(" Education : "),t("span",ie,o(n.patientData.mother_edu),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",de,[i(" Work : "),t("span",ce,o(n.patientData.mother_work),1)])]),_:1}),re,a(d,null,{default:e(()=>[t("h6",_e,[i(" Siblings : "),t("span",pe,o(n.patientData.siblings),1)])]),_:1}),a(d,null,{default:e(()=>[t("h6",ue,[i(" Order in Siblings : "),t("span",me,o(s(X)(n.patientData.order)),1)])]),_:1}),fe])):k("",!0),a(d,null,{default:e(()=>[t("h6",he,[i(" Notes : "),t("span",be,o(n.patientData.notes),1)])]),_:1})]),_:1}),Ve,s(f)&&s(f)[0].data?(c(),D(N,{key:0,multiple:""},{default:e(()=>[(c(!0),x(B,null,L(s(f),u=>(c(),D(S,null,{default:e(()=>[a(I,null,{default:e(()=>[i(o(u.name),1)]),_:2},1024),(c(!0),x(B,null,L(u.data,(z,E)=>(c(),D(g,null,{default:e(()=>[i(o(E)+": "+o(z),1)]),_:2},1024))),256))]),_:2},1024))),256))]),_:1})):k("",!0)]),_:1}),a(v,{class:"text-center"},{default:e(()=>[a(P,{block:"",onClick:y[0]||(y[0]=u=>V.value=!s(V))},{default:e(()=>[i(" Edit Patient Details ")]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1}),a(et,{"patient-data":s(_),"is-drawer-open":s(V),"onUpdate:isDrawerOpen":y[1]||(y[1]=u=>H(V)?V.value=u:null)},null,8,["patient-data","is-drawer-open"])]),_:1}),a(q,{isDialogVisible:s(b),"onUpdate:isDialogVisible":y[2]||(y[2]=u=>H(b)?b.value=u:null),"user-data":s(r),onSubmit:y[3]||(y[3]=()=>{})},null,8,["isDialogVisible","user-data"])],64)}}}),xe=ct(De,[["__scopeId","data-v-5c3241aa"]]),ye={class:"my-5"},ve=O({__name:"CustomerTabTests",setup(w){T(!1),T(!1),T("+1(968) 819-2547"),T(!1);const b=T("personal-info");return(V,n)=>{const r=l("VTab"),_=l("VTabs"),p=l("VCardText"),f=pt,m=l("VCol"),y=l("VChip"),$=l("VRow"),A=l("VWindowItem"),v=l("VWindow"),d=l("VDivider"),h=l("VBtn"),I=l("VCard");return c(),D($,null,{default:e(()=>[a(m,{cols:"12"},{default:e(()=>[a(I,{title:"Psychometric Tests"},{default:e(()=>[a(p,null,{default:e(()=>[a(_,{modelValue:s(b),"onUpdate:modelValue":n[0]||(n[0]=g=>H(b)?b.value=g:null)},{default:e(()=>[a(r,{value:"personal-info"},{default:e(()=>[i(" Personal Info ")]),_:1}),a(r,{value:"account-details"},{default:e(()=>[i(" Account Details ")]),_:1}),a(r,{value:"social-links"},{default:e(()=>[i(" Social Links ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(I,{flat:""},{default:e(()=>[a(p,null,{default:e(()=>[a(v,{modelValue:s(b),"onUpdate:modelValue":n[2]||(n[2]=g=>H(b)?b.value=g:null),class:"disable-tab-transition"},{default:e(()=>[a(A,{value:"personal-info"},{default:e(()=>[a($,{class:"mb-5"},{default:e(()=>[a(m,{cols:"6",md:"6"},{default:e(()=>[a(f,{label:"Complaint","auto-grow":"",rows:"2",onKeyup:n[1]||(n[1]=()=>{}),rules:["requiredValidator"in V?V.requiredValidator:s(rt)]},null,8,["rules"])]),_:1}),a(m,null,{default:e(()=>[t("div",ye,[(c(!0),x(B,null,L("chief_complains"in V?V.chief_complains:s(_t),g=>(c(),D(y,{class:"me-2 mb-2",size:"x-small"},{default:e(()=>[i(o(g),1)]),_:2},1024))),256))])]),_:1})]),_:1})]),_:1}),a(A,{value:"account-details"}),a(A,{value:"social-links"})]),_:1},8,["modelValue"])]),_:1}),a(d),a(p,{class:"d-flex gap-4"},{default:e(()=>[a(h,null,{default:e(()=>[i("Submit")]),_:1}),a(h,{color:"secondary",variant:"tonal"},{default:e(()=>[i(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),ge={class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2"},ke={class:"app-timeline-title"},we={class:"app-timeline-meta"},Ce={key:0,class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2"},Te={class:"app-timeline-text mt-1"},$e=t("span",{class:"text-warning"}," Chief Complaint: ",-1),Ae={class:"app-timeline-meta"},Ie={key:1,class:"app-timeline-text mt-1"},Ee=t("span",{class:"text-warning"}," Diagnosis: ",-1),Pe={key:2,class:"app-timeline-text mt-1"},Be=t("span",{class:"text-warning"}," Follow up notes: ",-1),Re={class:"app-timeline-text mt-1"},Se=t("span",{class:"text-warning"}," Management: ",-1),Ne={class:"app-timeline-text mt-1"},Fe=t("span",{class:"text-warning"}," Doctor: ",-1),We=O({__name:"visitTimeLine",props:{patientData:{}},setup(w){const b=Y("userData").value,V=G();K();const{patientData:n}=w;let r=!1;return lt(()=>{var _,p;(_=n.visits)!=null&&_.slice().reverse()[0]?r=ut(new Date,(p=n.visits)==null?void 0:p.slice().reverse()[0].createdAt)>=8:r=!0}),console.log(n.visits),(_,p)=>{const f=l("VBtn"),m=l("VTimelineItem"),y=l("VTimeline"),$=l("VCardText"),A=l("VCard");return c(),D(A,{title:"Visits Timeline"},{default:e(()=>[a($,null,{default:e(()=>{var v;return[s(r)&&((v=s(b))==null?void 0:v.role)==="DOCTOR"?(c(),D(f,{key:0,variant:"outlined",class:"mb-5",onClick:p[0]||(p[0]=d=>s(V).push({name:"patients-visits-new-id",params:{id:_.patientData.id},query:{dob:_.patientData.dob,name:_.patientData.name}}))},{default:e(()=>[i(" New Visit ")]),_:1})):k("",!0),a(y,{side:"end",align:"start","line-inset":"8","truncate-line":"start",density:"compact"},{default:e(()=>{var d;return[(c(!0),x(B,null,L((d=_.patientData.visits)==null?void 0:d.slice().reverse(),(h,I)=>(c(),D(m,{"dot-color":"primary",size:"x-small"},{default:e(()=>{var g,S,N,P,F,W;return[t("div",ge,[t("span",ke,o(("getVisitNumber"in _?_.getVisitNumber:s(Z))(_.patientData.visits,I))+" visit ",1),t("span",we,o(s(mt)(new Date(h.createdAt),{addSuffix:!0})),1)]),h.follow_up?k("",!0):(c(),x("div",Ce,[t("div",Te,[$e,t("li",null,o((g=h.chief_complaint)==null?void 0:g.complaint)+" for "+o((S=h.chief_complaint)==null?void 0:S.duration),1)]),t("span",Ae,o(("formatDate"in _?_.formatDate:s(J))(h.createdAt)),1)])),h.follow_up?(c(),x("div",Pe,[Be,t("li",null,o((P=h.notes)==null?void 0:P.notes),1)])):(c(),x("div",Ie,[Ee,t("li",null,o((N=h.ddx)==null?void 0:N.differential),1)])),t("div",Re,[Se,(c(!0),x(B,null,L((F=h.management)==null?void 0:F.managements,C=>(c(),x("li",null,o(C.name)+" "+o(C.form)+" "+o(C.dose)+" "+o(C.use),1))),256))]),t("div",Ne,[Fe,t("li",null,o((W=h.doctor)==null?void 0:W.name),1)]),!s(r)&&h.active?(c(),D(f,{key:3,variant:"tonal",class:"d-inline-flex align-center mt-4",onClick:C=>s(V).push({name:"patients-visits-edit-id",params:{id:_.patientData.id},query:{visit:h.id}})},{default:e(()=>[i(" Edit Visit ")]),_:2},1032,["onClick"])):(c(),D(f,{key:4,variant:"tonal",class:"d-inline-flex align-center mt-4",onClick:C=>s(V).push({name:"patients-visits-open-id",params:{id:_.patientData.id},query:{visit:h.id,dob:_.patientData.dob,name:_.patientData.name}})},{default:e(()=>[i("Open Visit ")]),_:2},1032,["onClick"]))]}),_:2},1024))),256))]}),_:1})]}),_:1})]),_:1})}}}),Le=O({__name:"CustomerTabVisits",props:{patientData:{}},setup(w){return(b,V)=>{const n=l("VCol"),r=l("VRow");return c(),D(r,null,{default:e(()=>[a(n,null,{default:e(()=>[a(We,{patientData:b.patientData},null,8,["patientData"])]),_:1})]),_:1})}}}),He={class:"d-flex justify-space-between align-center flex-wrap gap-y-4 mb-6"},Oe={class:"text-h4 mb-1"},qe={class:"text-body-1"},ze={key:0,class:"d-flex gap-4"},Ue={key:1},Va=O({__name:"[id]",async setup(w){let b,V;const n=K(),r=G(),_=n.params,p=Y("userData").value;console.log(p);const f=T(),m=T(null),y=[{title:"Visits",icon:"tabler-file"},{title:"Tests",icon:"tabler-flask"}],{data:$}=([b,V]=it(()=>ft(`/patients/${p==null?void 0:p.id}/${_.id}`)),b=await b,V(),b);console.log($);const A=async()=>{if(p)try{const v=await ht(`/patient-delete/${p==null?void 0:p.id}/${_.id}`,{method:"DELETE",onResponseError({response:d}){console.log(d)}});console.log(v),r.push("/patients")}catch(v){console.error(v)}};return f.value=$.value,(v,d)=>{var q,u,z;const h=l("VBtn"),I=l("VCol"),g=l("VIcon"),S=l("VTab"),N=l("VTabs"),P=l("VWindowItem"),F=l("VWindow"),W=l("VRow"),C=l("VAlert");return c(),x("div",null,[t("div",He,[t("div",null,[t("h4",Oe,"Patient ID #"+o(s(_).id),1),t("div",qe," Added At: "+o((q=s(f))!=null&&q.createdAt?new Date((u=s(f))==null?void 0:u.createdAt).toLocaleString():"Cannot Display Date"),1)]),((z=s(p))==null?void 0:z.role)==="ADMIN"?(c(),x("div",ze,[a(h,{onClick:A,variant:"tonal",color:"error"},{default:e(()=>[i(" Delete Patient ")]),_:1})])):k("",!0)]),s(f)?(c(),D(W,{key:0},{default:e(()=>[s(f)?(c(),D(I,{key:0,cols:"12",md:"5",lg:"4"},{default:e(()=>[a(xe,{"patient-data":s(f)},null,8,["patient-data"])]),_:1})):k("",!0),a(I,{cols:"12",md:"7",lg:"8"},{default:e(()=>[a(N,{modelValue:s(m),"onUpdate:modelValue":d[0]||(d[0]=E=>H(m)?m.value=E:null),class:"v-tabs-pill mb-3 disable-tab-transition"},{default:e(()=>[(c(),x(B,null,L(y,E=>a(S,{key:E.title},{default:e(()=>[a(g,{size:"20",start:"",icon:E.icon},null,8,["icon"]),i(" "+o(E.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),a(F,{modelValue:s(m),"onUpdate:modelValue":d[1]||(d[1]=E=>H(m)?m.value=E:null),class:"disable-tab-transition",touch:!1},{default:e(()=>[a(P,null,{default:e(()=>[a(Le,{patientData:s(f)},null,8,["patientData"])]),_:1}),a(P,null,{default:e(()=>[a(ve,{patientData:s(f)},null,8,["patientData"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):(c(),x("div",Ue,[a(C,{type:"error",variant:"tonal"},{default:e(()=>[i(" patient with ID "+o(s(_).id)+" not found! ",1)]),_:1})]))])}}});export{Va as default};
