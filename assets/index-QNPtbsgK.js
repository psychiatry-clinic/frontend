import{a as ne}from"./formatters-DocrwTSm.js";import{_ as re}from"./TablePagination.vue_vue_type_script_setup_true_lang-tt-xK9OQ.js";import{_ as le}from"./AppSelect.vue_vue_type_script_setup_true_lang-BwRU0qWF.js";import{_ as ie}from"./AppTextField.vue_vue_type_script_setup_true_lang-CcB8QWg0.js";import{m as ce,a as de}from"./mastercard-g84VFOh-.js";import{p as me,a as pe}from"./paypal-light-Brvcm0WZ.js";import{u as A}from"./useGenerateImageVariant-DH-PKrkg.js";import{u as ue}from"./useApi-CQO22iJp.js";import{c as _e}from"./createUrl-CJbY2GEn.js";import{$ as fe}from"./api-7mMiq-NG.js";import{d as ve,r as u,aq as ye,a4 as S,a as s,o as _,c as h,b as t,f as a,F as U,i as ge,n,e as r,ad as f,v,x as c,g as O,y as R,s as xe,z as he}from"./index-CJpjWKD8.js";import{_ as Ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers-BGv4x_9E.js";import"./index-B3bPRkoL.js";const be={class:"d-flex flex-column"},ke={class:"text-h4"},we={class:"text-body-1"},Ce={class:"d-flex justify-sm-space-between justify-start flex-wrap gap-4"},De={class:"d-flex gap-x-4 align-center"},Pe={class:"d-flex align-center gap-x-3"},Be={key:1,class:"font-weight-medium"},$e={class:"d-flex flex-column"},Te={class:"text-body-1 font-weight-medium"},ze={class:"text-body-2"},Ie={style:{"line-height":"22px"}},Le={class:"d-flex align-center"},Ae=["src"],Se={class:"text-body-1"},Ue=ve({__name:"index",async setup(Oe){let y,V;const g=u([{title:"Pending Payment",value:56,icon:"tabler-calendar-stats"},{title:"Completed",value:12689,icon:"tabler-checks"},{title:"Refunded",value:124,icon:"tabler-wallet"},{title:"Failed",value:32,icon:"tabler-alert-octagon"}]),E=A(de,ce),F=A(pe,me),x=u(""),d=u(10),m=u(1),b=u(),k=u(),N=[{title:"Order",key:"order"},{title:"Date",key:"date"},{title:"Customers",key:"customers"},{title:"Payment",key:"payment",sortable:!1},{title:"Status",key:"status"},{title:"Method",key:"method",sortable:!1},{title:"Action",key:"actions",sortable:!1}],j=o=>{var l,p;b.value=(l=o.sortBy[0])==null?void 0:l.key,k.value=(p=o.sortBy[0])==null?void 0:p.order},w=o=>{if(o===1)return{text:"Paid",color:"success"};if(o===2)return{text:"Pending",color:"warning"};if(o===3)return{text:"Cancelled",color:"secondary"};if(o===4)return{text:"Failed",color:"error"}},q=o=>{if(o==="Delivered")return{text:"Delivered",color:"success"};if(o==="Out for Delivery")return{text:"Out for Delivery",color:"primary"};if(o==="Ready to Pickup")return{text:"Ready to Pickup",color:"info"};if(o==="Dispatched")return{text:"Dispatched",color:"warning"}},{data:C,execute:M}=([y,V]=ye(()=>ue(_e("/apps/ecommerce/orders",{query:{q:x,page:m,itemsPerPage:d,sortBy:b,orderBy:k}}))),y=await y,V(),y),G=S(()=>C.value.orders),D=S(()=>C.value.total),Q=async o=>{await fe(`/apps/ecommerce/orders/${o}`,{method:"DELETE"}),M()};return(o,l)=>{const p=s("VIcon"),P=s("VAvatar"),H=s("VCol"),B=s("VDivider"),J=s("VRow"),$=s("VCardText"),T=s("VCard"),K=ie,W=le,X=s("VBtn"),z=s("RouterLink"),Y=s("VImg"),Z=s("VChip"),I=s("VListItem"),ee=s("VList"),te=s("VMenu"),ae=s("IconBtn"),oe=re,se=s("VDataTableServer");return _(),h("div",null,[t(T,{class:"mb-6"},{default:a(()=>[t($,null,{default:a(()=>[t(J,null,{default:a(()=>[(_(!0),h(U,null,ge(n(g),(e,i)=>(_(),h(U,{key:i},[t(H,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:a(()=>[r("div",{class:R(["d-flex justify-space-between",o.$vuetify.display.xs?i!==n(g).length-1?"border-b pb-4":"":o.$vuetify.display.sm&&i<n(g).length/2?"border-b pb-4":""])},[r("div",be,[r("h4",ke,c(e.value),1),r("div",we,c(e.title),1)]),t(P,{variant:"tonal",rounded:"",size:"42"},{default:a(()=>[t(p,{icon:e.icon,size:"26",class:"text-high-emphasis"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(o.$vuetify.display.mdAndUp?i!==n(g).length-1:o.$vuetify.display.smAndUp&&i%2===0)?(_(),O(B,{key:0,vertical:"",inset:"",length:"60"})):he("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),t(T,null,{default:a(()=>[t($,null,{default:a(()=>[r("div",Ce,[t(K,{modelValue:n(x),"onUpdate:modelValue":l[0]||(l[0]=e=>f(x)?x.value=e:null),placeholder:"Search Order",style:{"max-inline-size":"200px","min-inline-size":"200px"}},null,8,["modelValue"]),r("div",De,[t(W,{modelValue:n(d),"onUpdate:modelValue":l[1]||(l[1]=e=>f(d)?d.value=e:null),style:{"min-inline-size":"6.25rem"},items:[5,10,20,50,100]},null,8,["modelValue"]),t(X,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload",text:"Export"})])])]),_:1}),t(B),t(se,{"items-per-page":n(d),"onUpdate:itemsPerPage":l[3]||(l[3]=e=>f(d)?d.value=e:null),page:n(m),"onUpdate:page":l[4]||(l[4]=e=>f(m)?m.value=e:null),headers:N,items:n(G),"item-value":"order","items-length":n(D),"show-select":"",class:"text-no-wrap","onUpdate:options":j},{"item.order":a(({item:e})=>[t(z,{to:{name:"apps-ecommerce-order-details-id",params:{id:e.order}}},{default:a(()=>[v(" #"+c(e.order),1)]),_:2},1032,["to"])]),"item.date":a(({item:e})=>[v(c(new Date(e.date).toDateString()),1)]),"item.customers":a(({item:e})=>[r("div",Pe,[t(P,{size:"34",color:e.avatar.length?"":"primary",variant:e.avatar.length?void 0:"tonal"},{default:a(()=>[e.avatar?(_(),O(Y,{key:0,src:e.avatar},null,8,["src"])):(_(),h("span",Be,c(("avatarText"in o?o.avatarText:n(ne))(e.customer)),1))]),_:2},1032,["color","variant"]),r("div",$e,[r("div",Te,[t(z,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-link"},{default:a(()=>[v(c(e.customer),1)]),_:2},1024)]),r("div",ze,c(e.email),1)])])]),"item.payment":a(({item:e})=>{var i,L;return[r("div",{class:R([`text-${(i=w(e.payment))==null?void 0:i.color}`,"font-weight-medium d-flex align-center gap-x-2"])},[t(p,{icon:"tabler-circle-filled",size:"10"}),r("div",Ie,c((L=w(e.payment))==null?void 0:L.text),1)],2)]}),"item.status":a(({item:e})=>[t(Z,xe(q(e.status),{label:"",size:"small"}),null,16)]),"item.method":a(({item:e})=>[r("div",Le,[r("img",{src:e.method==="mastercard"?n(E):n(F),height:"18"},null,8,Ae),r("div",Se," ..."+c(e.method==="mastercard"?e.methodNumber:"@gmail.com"),1)])]),"item.actions":a(({item:e})=>[t(ae,null,{default:a(()=>[t(p,{icon:"tabler-dots-vertical"}),t(te,{activator:"parent"},{default:a(()=>[t(ee,null,{default:a(()=>[t(I,{value:"view",to:{name:"apps-ecommerce-order-details-id",params:{id:e.order}}},{default:a(()=>[v(" View ")]),_:2},1032,["to"]),t(I,{value:"delete",onClick:i=>Q(e.id)},{default:a(()=>[v(" Delete ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:a(()=>[t(oe,{page:n(m),"onUpdate:page":l[2]||(l[2]=e=>f(m)?m.value=e:null),"items-per-page":n(d),"total-items":n(D)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})])}}}),Ye=Ve(Ue,[["__scopeId","data-v-7a1bb51b"]]);export{Ye as default};
