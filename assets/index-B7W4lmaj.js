import{a as R}from"./formatters-DocrwTSm.js";import{_ as E}from"./TablePagination.vue_vue_type_script_setup_true_lang-12Id8OkK.js";import{_ as F}from"./AppSelect.vue_vue_type_script_setup_true_lang-CUM7xL_a.js";import{_ as L}from"./AppTextField.vue_vue_type_script_setup_true_lang-Cn5QAR7R.js";import{_ as j}from"./ECommerceAddCustomerDrawer.vue_vue_type_style_index_0_lang-BSwSGYIg.js";import{u as Q}from"./useApi-CiYK4OrD.js";import{c as G}from"./createUrl-CkR9s17f.js";import{d as H,r as p,aq as J,a4 as b,a as l,o as y,c as T,b as o,f as a,e as r,n as s,ad as d,v as x,g as K,x as m}from"./index-B-uKkDM3.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers-BGv4x_9E.js";import"./validators-DR7cptrM.js";import"./suggestions-DtVrTijw.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-guWQwSSl.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-D4FjpNKY.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-BwL2z7_Y.js";import"./transition-93Gr3-GY.js";import"./form-CdnDFzDY.js";import"./CustomRadios-fXX3lZoe.js";import"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-mJ8WHKBm.js";import"./vue3-perfect-scrollbar.esm-Dfav_R1s.js";import"./api-faFk6m2o.js";import"./index-B3bPRkoL.js";import"./myFormat-D_0w4-pK.js";import"./differenceInYears-BdTDs0wt.js";import"./BlobServiceClient-CR2xPX03.js";import"./__vite-browser-external-DFygW7-s.js";import"./VForm-BiDs_Ppi.js";const W={class:"d-flex justify-space-between flex-wrap gap-y-4"},X={class:"d-flex flex-row gap-4 align-center flex-wrap"},Y={class:"d-flex align-center gap-x-3"},Z={key:1},ee={class:"d-flex flex-column"},te={class:"text-body-2"},oe={class:"text-body-1 text-high-emphasis"},ae={class:"d-flex gap-x-2"},se=["src"],re={class:"text-body-1"},ne={class:"text-h6"},le=H({__name:"index",async setup(ie){let _,V;const f=p(""),c=p(!1),n=p(10),i=p(1),h=p(),k=p(),B=[{title:"Customer",key:"customer"},{title:"Customer Id",key:"customerId"},{title:"Country",key:"country"},{title:"Orders",key:"orders"},{title:"Total Spent",key:"totalSpent"}],S=u=>{var t,v;h.value=(t=u.sortBy[0])==null?void 0:t.key,k.value=(v=u.sortBy[0])==null?void 0:v.order},{data:g}=([_,V]=J(()=>Q(G("/apps/ecommerce/customers",{query:{q:f,itemsPerPage:n,page:i,sortBy:h,orderBy:k}}))),_=await _,V(),_);console.log(g);const A=b(()=>g.value.customers),w=b(()=>g.value.total);return(u,t)=>{const v=L,D=F,C=l("VBtn"),I=l("VCardText"),U=l("VDivider"),$=l("VImg"),P=l("VAvatar"),N=l("RouterLink"),O=E,q=l("VDataTableServer"),z=l("VCard");return y(),T("div",null,[o(z,null,{default:a(()=>[o(I,null,{default:a(()=>[r("div",W,[o(v,{modelValue:s(f),"onUpdate:modelValue":t[0]||(t[0]=e=>d(f)?f.value=e:null),style:{"max-inline-size":"280px","min-inline-size":"280px"},placeholder:"Search Name"},null,8,["modelValue"]),r("div",X,[o(D,{modelValue:s(n),"onUpdate:modelValue":t[1]||(t[1]=e=>d(n)?n.value=e:null),items:[5,10,20,50,100]},null,8,["modelValue"]),o(C,{"prepend-icon":"tabler-upload",variant:"tonal",color:"secondary"},{default:a(()=>[x(" Export ")]),_:1}),o(C,{"prepend-icon":"tabler-plus",onClick:t[2]||(t[2]=e=>c.value=!s(c))},{default:a(()=>[x(" Add Customer ")]),_:1})])])]),_:1}),o(U),o(q,{"items-per-page":s(n),"onUpdate:itemsPerPage":t[4]||(t[4]=e=>d(n)?n.value=e:null),page:s(i),"onUpdate:page":t[5]||(t[5]=e=>d(i)?i.value=e:null),items:s(A),"item-value":"customer",headers:B,"items-length":s(w),"show-select":"",class:"text-no-wrap","onUpdate:options":S},{"item.customer":a(({item:e})=>[r("div",Y,[o(P,{size:"34",variant:e.avatar?void 0:"tonal"},{default:a(()=>[e.avatar?(y(),K($,{key:0,src:e.avatar},null,8,["src"])):(y(),T("span",Z,m(("avatarText"in u?u.avatarText:s(R))(e.customer)),1))]),_:2},1032,["variant"]),r("div",ee,[o(N,{to:{name:"apps-ecommerce-customer-details-id",params:{id:e.customerId}},class:"text-link font-weight-medium d-inline-block",style:{"line-height":"1.375rem"}},{default:a(()=>[x(m(e.customer),1)]),_:2},1032,["to"]),r("div",te,m(e.email),1)])])]),"item.customerId":a(({item:e})=>[r("div",oe," #"+m(e.customerId),1)]),"item.orders":a(({item:e})=>[x(m(e.order),1)]),"item.country":a(({item:e})=>[r("div",ae,[r("img",{src:e.countryFlag,height:"22",width:"22"},null,8,se),r("span",re,m(e.country),1)])]),"item.totalSpent":a(({item:e})=>[r("h6",ne," $"+m(e.totalSpent),1)]),bottom:a(()=>[o(O,{page:s(i),"onUpdate:page":t[3]||(t[3]=e=>d(i)?i.value=e:null),"items-per-page":s(n),"total-items":s(w)},null,8,["page","items-per-page","total-items"])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),o(j,{"is-drawer-open":s(c),"onUpdate:isDrawerOpen":t[6]||(t[6]=e=>d(c)?c.value=e:null)},null,8,["is-drawer-open"])])}}}),Oe=M(le,[["__scopeId","data-v-e09dfa4e"]]);export{Oe as default};
