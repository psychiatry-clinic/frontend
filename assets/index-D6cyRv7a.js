import{_ as I}from"./AppTextField.vue_vue_type_script_setup_true_lang-CZ5Ws0u7.js";import{_ as Q}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-B2Ll9o-7.js";import{d as R,r as p,w as X,a as n,o as h,g as T,f as o,b as e,e as c,x,v as k,n as i,ad as d,aq as Y,a4 as E,c as Z,i as ee,F as te}from"./index-DrFL9zv-.js";import{_ as se}from"./TablePagination.vue_vue_type_script_setup_true_lang-ClsTNhYF.js";import{_ as oe}from"./AppSelect.vue_vue_type_script_setup_true_lang-DhpyrUw1.js";import{u as ne}from"./useApi-CF-Kf49g.js";import{c as ie}from"./createUrl-BtuJzAQ-.js";import"./index-B3bPRkoL.js";const ae={class:"text-h4 text-center mb-2"},le={class:"text-body-1 text-center mb-6"},re={class:"d-flex gap-4 mb-6 flex-wrap flex-column flex-sm-row"},me=R({__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean},permissionName:{default:""}},emits:["update:isDialogVisible","update:permissionName"],setup($,{emit:_}){const r=$,v=_,a=p(""),l=()=>{v("update:isDialogVisible",!1),a.value=""},m=()=>{v("update:isDialogVisible",!1),v("update:permissionName",a.value)};return X(r,()=>{a.value=r.permissionName}),(y,b)=>{const B=Q,g=n("VAlert"),f=I,V=n("VBtn"),D=n("VCheckbox"),C=n("VForm"),N=n("VCardText"),w=n("VCard"),U=n("VDialog");return h(),T(U,{width:y.$vuetify.display.smAndDown?"auto":600,"model-value":r.isDialogVisible,"onUpdate:modelValue":l},{default:o(()=>[e(B,{onClick:l}),e(w,{class:"pa-2 pa-sm-10"},{default:o(()=>[e(N,null,{default:o(()=>[c("h4",ae,x(r.permissionName?"Edit":"Add")+" Permission ",1),c("p",le,x(r.permissionName?"Edit":"Add")+" permission as per your requirements. ",1),e(C,null,{default:o(()=>[e(g,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{text:o(()=>[k(" By "+x(r.permissionName?"editing":"adding")+" the permission name, you might break the system permissions functionality. ",1)]),_:1}),c("div",re,[e(f,{modelValue:i(a),"onUpdate:modelValue":b[0]||(b[0]=u=>d(a)?a.value=u:null),placeholder:"Enter Permission Name"},null,8,["modelValue"]),e(V,{onClick:m},{default:o(()=>[k(" Update ")]),_:1})]),e(D,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}}),pe={class:"d-flex gap-2 align-center"},de=c("p",{class:"text-body-1 mb-0"}," Show ",-1),ce={class:"d-flex align-center gap-4 flex-wrap"},ue={class:"text-high-emphasis text-body-1"},_e={class:"d-flex gap-4"},Ce=R({__name:"index",async setup($){let _,r;const v=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],a=p(""),l=p(10),m=p(1),y=p(),b=p(),B=u=>{var s,A;y.value=(s=u.sortBy[0])==null?void 0:s.key,b.value=(A=u.sortBy[0])==null?void 0:A.order},g=p(!1),f=p(!1),V=p(""),D={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},{data:C}=([_,r]=Y(()=>ne(ie("/apps/permissions",{query:{q:a,itemsPerPage:l,page:m,sortBy:y,orderBy:b}}))),_=await _,r(),_),N=E(()=>C.value.permissions),w=E(()=>C.value.totalPermissions),U=u=>{g.value=!0,V.value=u};return(u,s)=>{const A=oe,q=I,S=n("VBtn"),j=n("VCardText"),L=n("VDivider"),M=n("VChip"),O=se,F=n("VIcon"),W=n("IconBtn"),G=n("VDataTableServer"),H=n("VCard"),z=me,J=n("VCol"),K=n("VRow");return h(),T(K,null,{default:o(()=>[e(J,{cols:"12"},{default:o(()=>[e(H,null,{default:o(()=>[e(j,{class:"d-flex align-center justify-space-between flex-wrap gap-4"},{default:o(()=>[c("div",pe,[de,e(A,{"model-value":i(l),items:[{value:5,title:"5"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=parseInt(t,10))},null,8,["model-value"])]),c("div",ce,[e(q,{modelValue:i(a),"onUpdate:modelValue":s[1]||(s[1]=t=>d(a)?a.value=t:null),placeholder:"Search Permission",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),e(S,{density:"default","prepend-icon":"tabler-plus",onClick:s[2]||(s[2]=t=>f.value=!0)},{default:o(()=>[k(" Add Permission ")]),_:1})])]),_:1}),e(L),e(G,{"items-per-page":i(l),"onUpdate:itemsPerPage":s[4]||(s[4]=t=>d(l)?l.value=t:null),page:i(m),"onUpdate:page":s[5]||(s[5]=t=>d(m)?m.value=t:null),"items-length":i(w),"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],headers:v,items:i(N),"item-value":"name",class:"text-no-wrap","onUpdate:options":B},{"item.name":o(({item:t})=>[c("div",ue,x(t.name),1)]),"item.assignedTo":o(({item:t})=>[c("div",_e,[(h(!0),Z(te,null,ee(t.assignedTo,P=>(h(),T(M,{key:P,label:"",size:"small",color:D[P].color,class:"font-weight-medium"},{default:o(()=>[k(x(D[P].text),1)]),_:2},1032,["color"]))),128))])]),bottom:o(()=>[e(O,{page:i(m),"onUpdate:page":s[3]||(s[3]=t=>d(m)?m.value=t:null),"items-per-page":i(l),"total-items":i(w)},null,8,["page","items-per-page","total-items"])]),"item.actions":o(({item:t})=>[e(S,{icon:"",size:"small",color:"medium-emphasis",variant:"text",onClick:P=>U(t.name)},{default:o(()=>[e(F,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(W,null,{default:o(()=>[e(F,{icon:"tabler-dots-vertical",size:"22"})]),_:1})]),_:1},8,["items-per-page","page","items-length","items-per-page-options","items"])]),_:1}),e(z,{isDialogVisible:i(g),"onUpdate:isDialogVisible":s[6]||(s[6]=t=>d(g)?g.value=t:null),"permission-name":i(V),"onUpdate:permissionName":s[7]||(s[7]=t=>d(V)?V.value=t:null)},null,8,["isDialogVisible","permission-name"]),e(z,{isDialogVisible:i(f),"onUpdate:isDialogVisible":s[8]||(s[8]=t=>d(f)?f.value=t:null)},null,8,["isDialogVisible"])]),_:1})]),_:1})}}});export{Ce as default};
