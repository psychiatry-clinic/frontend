import{a as Se}from"./formatters-DocrwTSm.js";import{r as De,d as J,p as Be}from"./validators-DR7cptrM.js";import{c as oe,b as Ue,o as ee,a as $e,d as le}from"./suggestions-DtVrTijw.js";import{d as xe,b8 as Ee,k as Oe,r as s,w as Y,o as d,g as i,f as u,b as t,n as e,b2 as Ae,aX as m,c as D,x as B,e as f,z as r,i as U,F as $,aj as ue,v as V}from"./index-CyOif7-e.js";import{_ as Re}from"./AppTextarea.vue_vue_type_script_setup_true_lang-CGzaNKA4.js";import{_ as Te}from"./AppAutocomplete.vue_vue_type_script_setup_true_lang-DV7IUblc.js";import{_ as Ne}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-BwIL-bZZ.js";import{_ as Fe}from"./AppTextField.vue_vue_type_script_setup_true_lang-BwfyKR3S.js";import{_ as Ie}from"./CustomRadios-BNPeMCZs.js";import{_ as Pe}from"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-D5XGf6ev.js";import{P as ze}from"./vue3-perfect-scrollbar.esm-lznjiNQk.js";import{$ as Me}from"./api-MDXZjLBk.js";import{a as de,c as ie}from"./myFormat-D_0w4-pK.js";import{B as qe}from"./BlobServiceClient-CR2xPX03.js";import{V as We}from"./VDivider-DIySTNqq.js";import{V as He}from"./VCardText-BrsMDHTf.js";import{V as je}from"./VForm-Wjco7drK.js";import{V as Ke,a as n}from"./VRow-BScj5SVI.js";import{V as Ze}from"./VAvatar-h8Uq1eGR.js";import{V as Ge}from"./VImg-C93O-6K8.js";import{V as L,a as p}from"./VRadioGroup-CWvSiCYZ.js";import{V as Qe}from"./VCard-D27vUuY5.js";import{V as Ye}from"./VNavigationDrawer-BQrZSLtj.js";import{d as ne}from"./differenceInYears-BdTDs0wt.js";import{V as x}from"./VChip-DPuKVeJv.js";const Le=f("h6",{class:"text-h6 text-primary"},"Image",-1),Xe={key:1,class:"text-5xl font-weight-medium"},Je=f("label",{for:"picture"},"Take a picture using back facing camera:",-1),el=f("h6",{class:"text-h6 text-primary"},"Basic Information",-1),ll=f("span",{style:{"line-height":"15px",color:`rgba(\r
                          var(--v-theme-on-surface),\r
                          var(--v-high-emphasis-opacity)\r
                        )`},class:"v-label mb-1 text-body-2 text-black"},"Gender*",-1),al=f("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Demographic Information ",-1),tl={class:"mt-5"},ol={class:"mt-5"},ul={class:"mt-5"},dl=f("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Parents Relationship ",-1),il=f("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Siblings ",-1),nl=f("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Order in Siblings ",-1),rl=f("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Father Information ",-1),sl={class:"mt-5"},ml={class:"mt-5"},cl=f("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Mother Information ",-1),pl={class:"mt-5"},fl={class:"mt-5"},vl=f("div",{class:"text-body-1 text-primary font-weight-medium text-high-emphasis"}," Notes ",-1),hl={class:"d-flex gap-4 justify-start pb-10"},bl="https://dakakean.blob.core.windows.net/psychiatry?sp=racwl&st=2024-05-02T06:46:34Z&se=2024-05-10T14:46:34Z&spr=https&sv=2022-11-02&sr=c&sig=oTStvDHsKPQiKZ4%2Bniqpd7Dt9w514Y52T6kIQlC5490%3D",Vl="psychiatry",jl=xe({__name:"ECommerceAddCustomerDrawer",props:{isDrawerOpen:{type:Boolean}},emits:["update:isDrawerOpen"],setup(re,{emit:se}){const me=new qe(bl).getContainerClient(Vl),y=Ee("userData").value,ce=async()=>{const o=document.getElementById("picture");try{const a=[];if(o&&o.files){for(const G of o.files){const X=me.getBlockBlobClient(G.name);a.push(X.uploadBrowserData(G))}await Promise.all(a),E.value=(await a[0])._response.request.url}}catch(a){console.log(a)}},pe=re,ae=se,fe=Oe(),ve=o=>{ae("update:isDrawerOpen",o)},he=s({message:void 0}),be=[{title:"Child",value:"child"},{title:"Adult",value:"adult"}],c=s("");(y==null?void 0:y.clinic)==="Kadhimiya"?c.value="adult":c.value="child";const te=s(),E=s(),O=s(),k=s("2024-01-01"),A=s(),F=s(),z=s("Male"),M=s(),R=s(),_=s(),I=s(),g=s(),T=s(),P=s(),w=s(),C=s(),q=s(),h=s(),W=s(),Ve=s(),H=s(),j=s(),K=s(),N=s(),Z=s(""),S=s(),b=s(),ye=()=>{var o;(o=te.value)==null||o.reset(),ae("update:isDrawerOpen",!1)},ke=`/patients-new/${y==null?void 0:y.id}`,_e=async()=>{if(y)try{const o=await Me(ke,{method:"POST",body:{doctor:y.id,name:O.value,dob:A.value?de(ge(A.value)):de(k.value),gender:z.value,phone:M.value,avatar:E.value,father_dob:new Date(R.value,0,1),father_age:+I.value,father_work:g.value,father_edu:_.value,mother_dob:new Date(T.value,0,1),mother_age:+P.value,mother_work:C.value,mother_edu:w.value,related:q.value,siblings:+h.value,order:+W.value,familyHx:Ve.value,notes:H.value,marital_status:j.value,children:K.value,residence:N.value,neighborhood:Z.value,occupation:S.value,education:b.value},onResponseError({response:a}){he.value=a._data}});console.log(o.id),fe.push(`/patients/${o.id}`)}catch(o){console.error(o)}};Y(k,o=>{o&&(F.value=ie(o))}),Y(A,o=>{o&&o.toString().length===4&&(F.value=ie(new Date(o).toString()))}),Y(R,o=>{if(o.length===4){const a=new Date(R.value,0,1);I.value=ne(k.value,a)}}),Y(T,o=>{if(o.length===4){const a=new Date(T.value,0,1);P.value=ne(k.value,a)}});const ge=o=>{const a=new Date(o);return a.setMonth(0),a.setDate(1),a.toISOString().slice(0,10)};return(o,a)=>{const G=Pe,X=Ie,v=Fe,we=Ne,Q=Te,Ce=Re;return d(),i(Ye,{"model-value":pe.isDrawerOpen,temporary:"",location:"end",width:"370",border:"none","onUpdate:modelValue":ve},{default:u(()=>[t(G,{title:"Add a Patient",onCancel:a[0]||(a[0]=l=>o.$emit("update:isDrawerOpen",!1))}),t(We),t(Qe,{flat:""},{default:u(()=>[t(e(ze),{options:{wheelPropagation:!1},class:"h-100"},{default:u(()=>[t(He,{style:{"block-size":"calc(100vh - 5rem)"}},{default:u(()=>[t(e(je),{ref_key:"refVForm",ref:te,onSubmit:a[27]||(a[27]=Ae(()=>{},["prevent"]))},{default:u(()=>[t(Ke,{class:"mb-2"},{default:u(()=>[t(n,null,{default:u(()=>[t(X,{"selected-radio":e(c),"onUpdate:selectedRadio":a[1]||(a[1]=l=>m(c)?c.value=l:null),"radio-content":be,"grid-column":{sm:"6",cols:"12"}},null,8,["selected-radio"])]),_:1}),t(n,{cols:"12"},{default:u(()=>[Le]),_:1}),t(n,{cols:"12"},{default:u(()=>[t(Ze,{circle:"",size:100,color:e(E)?"undefined":"secondary",variant:e(E)?void 0:"tonal"},{default:u(()=>[e(E)?(d(),i(Ge,{key:0,src:e(E),style:{"object-fit":"cover"}},null,8,["src"])):(d(),D("span",Xe,B(("avatarText"in o?o.avatarText:e(Se))(e(O))),1))]),_:1},8,["color","variant"])]),_:1}),t(n,{cols:"12"},{default:u(()=>[Je,f("input",{type:"file",id:"picture",name:"picture",accept:"image/*",capture:"environment",onChange:ce},null,32)]),_:1}),t(n,{cols:"12"},{default:u(()=>[el]),_:1}),t(n,{cols:"12"},{default:u(()=>[t(v,{modelValue:e(O),"onUpdate:modelValue":a[2]||(a[2]=l=>m(O)?O.value=l:null),label:"Name*",rules:["requiredValidator"in o?o.requiredValidator:e(De)],placeholder:""},null,8,["modelValue","rules"])]),_:1}),e(c)==="child"?(d(),i(n,{key:0,cols:"12"},{default:u(()=>[t(we,{modelValue:e(k),"onUpdate:modelValue":a[3]||(a[3]=l=>m(k)?k.value=l:null),label:"Birth Date*",placeholder:"Select date"},null,8,["modelValue"])]),_:1})):r("",!0),t(n,{cols:"12"},{default:u(()=>[t(v,{modelValue:e(A),"onUpdate:modelValue":a[4]||(a[4]=l=>m(A)?A.value=l:null),label:"Birth Date*",placeholder:"",maxlength:"4",rules:["dateOfBirthValidator"in o?o.dateOfBirthValidator:e(J)]},null,8,["modelValue","rules"])]),_:1}),t(n,{cols:"12"},{default:u(()=>[t(v,{disabled:"",modelValue:e(F),"onUpdate:modelValue":a[5]||(a[5]=l=>m(F)?F.value=l:null),label:"Age (Automatic)",placeholder:"",maxlength:"4"},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:u(()=>[t(L,{modelValue:e(z),"onUpdate:modelValue":a[6]||(a[6]=l=>m(z)?z.value=l:null),inline:""},{label:u(()=>[ll]),default:u(()=>[t(p,{label:"Male",value:"Male"}),t(p,{label:"Female",value:"Female"})]),_:1},8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:u(()=>[t(v,{modelValue:e(M),"onUpdate:modelValue":a[7]||(a[7]=l=>m(M)?M.value=l:null),label:"Phone",placeholder:"",rules:["phoneNumberValidator"in o?o.phoneNumberValidator:e(Be)],maxlength:"11"},null,8,["modelValue","rules"])]),_:1}),t(n,null,{default:u(()=>[al]),_:1}),e(c)==="adult"?(d(),i(n,{key:1,cols:"12"},{default:u(()=>[t(Q,{modelValue:e(j),"onUpdate:modelValue":a[8]||(a[8]=l=>m(j)?j.value=l:null),label:"Marital Status",placeholder:"Select Status",items:["Married","Divorced","Single","Separated","Widow"]},null,8,["modelValue"])]),_:1})):r("",!0),e(c)==="adult"?(d(),i(n,{key:2,cols:"12"},{default:u(()=>[t(v,{modelValue:e(K),"onUpdate:modelValue":a[9]||(a[9]=l=>m(K)?K.value=l:null),placeholder:"Write a Number",label:"Children"},null,8,["modelValue"])]),_:1})):r("",!0),t(n,{cols:"12"},{default:u(()=>[t(Q,{modelValue:e(N),"onUpdate:modelValue":a[10]||(a[10]=l=>m(N)?N.value=l:null),label:"Residence",placeholder:"Select Residence",items:"cities"in o?o.cities:e(oe)},null,8,["modelValue","items"]),f("div",tl,[(d(!0),D($,null,U("cities"in o?o.cities:e(oe),l=>(d(),i(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{N.value=l}},{default:u(()=>[V(B(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1}),e(N)==="بغداد"?(d(),i(n,{key:3,cols:"12"},{default:u(()=>[t(Q,{modelValue:e(Z),"onUpdate:modelValue":a[11]||(a[11]=l=>m(Z)?Z.value=l:null),label:"Neighborhood",placeholder:"Select",items:"baghdadRegions"in o?o.baghdadRegions:e(Ue)},null,8,["modelValue","items"])]),_:1})):r("",!0),e(c)==="adult"?(d(),i(n,{key:4,cols:"12"},{default:u(()=>[t(v,{modelValue:e(S),"onUpdate:modelValue":a[12]||(a[12]=l=>m(S)?S.value=l:null),placeholder:"Write an Occupation",label:"Occupation"},null,8,["modelValue"]),f("div",ol,[(d(!0),D($,null,U("occupationSuggestions"in o?o.occupationSuggestions:e(ee),l=>(d(),i(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{S.value=e(S)===""||e(S)===void 0?l:`${e(S)}, ${l}`}},{default:u(()=>[V(B(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:5,cols:"12"},{default:u(()=>[t(v,{modelValue:e(b),"onUpdate:modelValue":a[13]||(a[13]=l=>m(b)?b.value=l:null),label:"Education"},null,8,["modelValue"]),f("div",ul,[(d(!0),D($,null,U("childEducation"in o?o.childEducation:e($e),l=>(d(),i(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{b.value=e(b)===""||e(b)===void 0?l:`${e(b)}, ${l}`}},{default:u(()=>[V(B(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):r("",!0),e(c)==="adult"?(d(),i(n,{key:6,cols:"12"},{default:u(()=>[t(Q,{modelValue:e(b),"onUpdate:modelValue":a[14]||(a[14]=l=>m(b)?b.value=l:null),label:"Education",placeholder:"Select Education",items:"adultEducation"in o?o.adultEducation:e(le)},null,8,["modelValue","items"])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:7},{default:u(()=>[dl]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:8,cols:"12"},{default:u(()=>[t(L,{modelValue:e(q),"onUpdate:modelValue":a[15]||(a[15]=l=>m(q)?q.value=l:null),inline:""},{default:u(()=>[t(p,{label:"Related",value:!0}),t(p,{label:"Not Related",value:!1})]),_:1},8,["modelValue"])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:9},{default:u(()=>[il]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:10,cols:"12"},{default:u(()=>[t(L,{modelValue:e(h),"onUpdate:modelValue":a[16]||(a[16]=l=>m(h)?h.value=l:null),inline:""},{default:u(()=>[t(p,{label:"0",value:0}),t(p,{label:"1",value:1}),t(p,{label:"2",value:2}),t(p,{label:"3",value:3}),t(p,{label:"4",value:4}),t(p,{label:"5",value:5}),t(p,{label:"6",value:6}),t(p,{label:"7",value:7}),t(p,{label:"8",value:8})]),_:1},8,["modelValue"])]),_:1})):r("",!0),e(h)>=1?(d(),i(n,{key:11},{default:u(()=>[nl]),_:1})):r("",!0),t(n,{cols:"12"},{default:u(()=>[t(L,{modelValue:e(W),"onUpdate:modelValue":a[17]||(a[17]=l=>m(W)?W.value=l:null),inline:""},{default:u(()=>[e(h)>=1?(d(),i(p,{key:0,label:"1st",value:1})):r("",!0),e(h)>=1?(d(),i(p,{key:1,label:"2nd",value:2})):r("",!0),e(h)>1?(d(),i(p,{key:2,label:"3rd",value:3})):r("",!0),e(h)>2?(d(),i(p,{key:3,label:"4th",value:4})):r("",!0),e(h)>3?(d(),i(p,{key:4,label:"5th",value:5})):r("",!0),e(h)>4?(d(),i(p,{key:5,label:"6th",value:6})):r("",!0),e(h)>5?(d(),i(p,{key:6,label:"7th",value:7})):r("",!0),e(h)>6?(d(),i(p,{key:7,label:"8th",value:8})):r("",!0),e(h)>7?(d(),i(p,{key:8,label:"9th",value:8})):r("",!0)]),_:1},8,["modelValue"])]),_:1}),e(c)==="child"?(d(),i(n,{key:12},{default:u(()=>[rl]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:13,cols:"12"},{default:u(()=>[t(v,{modelValue:e(R),"onUpdate:modelValue":a[18]||(a[18]=l=>m(R)?R.value=l:null),label:"Date of Birth",rules:["dateOfBirthValidator"in o?o.dateOfBirthValidator:e(J)],placeholder:"",maxlength:"4"},null,8,["modelValue","rules"])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:14,cols:"12"},{default:u(()=>[t(v,{modelValue:e(I),"onUpdate:modelValue":a[19]||(a[19]=l=>m(I)?I.value=l:null),label:"Age at Birth",placeholder:"",disabled:""},null,8,["modelValue"])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:15,cols:"12"},{default:u(()=>[t(v,{modelValue:e(_),"onUpdate:modelValue":a[20]||(a[20]=l=>m(_)?_.value=l:null),label:"Education",placeholder:""},null,8,["modelValue"]),f("div",sl,[(d(!0),D($,null,U("adultEducation"in o?o.adultEducation:e(le),l=>(d(),i(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{_.value=e(_)===""||e(_)===void 0?l:`${e(_)}, ${l}`}},{default:u(()=>[V(B(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:16,cols:"12"},{default:u(()=>[t(v,{modelValue:e(g),"onUpdate:modelValue":a[21]||(a[21]=l=>m(g)?g.value=l:null),label:"Work",placeholder:""},null,8,["modelValue"]),f("div",ml,[(d(!0),D($,null,U("occupationSuggestions"in o?o.occupationSuggestions:e(ee),l=>(d(),i(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{g.value=e(g)===""||e(g)===void 0?l:`${e(g)}, ${l}`}},{default:u(()=>[V(B(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:17},{default:u(()=>[cl]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:18,cols:"12"},{default:u(()=>[t(v,{modelValue:e(T),"onUpdate:modelValue":a[22]||(a[22]=l=>m(T)?T.value=l:null),label:"Date of Birth",rules:["dateOfBirthValidator"in o?o.dateOfBirthValidator:e(J)],placeholder:"",maxlength:"4"},null,8,["modelValue","rules"])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:19,cols:"12"},{default:u(()=>[t(v,{modelValue:e(P),"onUpdate:modelValue":a[23]||(a[23]=l=>m(P)?P.value=l:null),label:"Age at Birth",placeholder:"",disabled:""},null,8,["modelValue"])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:20,cols:"12"},{default:u(()=>[t(v,{modelValue:e(w),"onUpdate:modelValue":a[24]||(a[24]=l=>m(w)?w.value=l:null),label:"Education",placeholder:""},null,8,["modelValue"]),f("div",pl,[(d(!0),D($,null,U("adultEducation"in o?o.adultEducation:e(le),l=>(d(),i(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{w.value=e(w)===""||e(w)===void 0?l:`${e(w)}, ${l}`}},{default:u(()=>[V(B(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):r("",!0),e(c)==="child"?(d(),i(n,{key:21,cols:"12"},{default:u(()=>[t(v,{modelValue:e(C),"onUpdate:modelValue":a[25]||(a[25]=l=>m(C)?C.value=l:null),label:"Work",placeholder:""},null,8,["modelValue"]),f("div",fl,[(d(!0),D($,null,U("occupationSuggestions"in o?o.occupationSuggestions:e(ee),l=>(d(),i(x,{class:"me-2 mb-2",size:"x-small",onClick:()=>{C.value=e(C)===""||e(C)===void 0?l:`${e(C)}, ${l}`}},{default:u(()=>[V(B(l),1)]),_:2},1032,["onClick"]))),256))])]),_:1})):r("",!0),t(n,null,{default:u(()=>[vl]),_:1}),t(n,{cols:"12"},{default:u(()=>[t(Ce,{modelValue:e(H),"onUpdate:modelValue":a[26]||(a[26]=l=>m(H)?H.value=l:null)},null,8,["modelValue"])]),_:1}),t(n,{cols:"12"},{default:u(()=>[f("div",hl,[t(ue,{type:"submit",color:"primary",disabled:!e(O)||!e(k),onClick:_e},{default:u(()=>[V(" Add ")]),_:1},8,["disabled"]),t(ue,{color:"error",variant:"tonal",onClick:ye},{default:u(()=>[V(" Discard ")]),_:1})])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}});export{jl as _};
