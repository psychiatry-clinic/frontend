import{_ as re}from"./AppStepper.vue_vue_type_style_index_0_lang-D2scIiJJ.js";import{_ as me}from"./chiefComplaint.vue_vue_type_script_setup_true_lang-q_vlmPwd.js";import{_ as de}from"./consultationsVue.vue_vue_type_script_setup_true_lang-79odlzmm.js";import{_ as pe}from"./ddxVue.vue_vue_type_script_setup_true_lang-rwq2szsQ.js";import{_ as fe}from"./developmentVue.vue_vue_type_script_setup_true_lang-D5ulvBFM.js";import{_ as _e}from"./examination.vue_vue_type_script_setup_true_lang-Mgu8bxm-.js";import{_ as ce}from"./familyHx.vue_vue_type_script_setup_true_lang-CSS-Qpk7.js";import{_ as Ve}from"./forensicHx.vue_vue_type_script_setup_true_lang-C_21Be-q.js";import{_ as ve}from"./ixVue.vue_vue_type_script_setup_true_lang-OVAc9p29.js";import{_ as ye}from"./managementVue.vue_vue_type_script_setup_true_lang-CQDKaydf.js";import{_ as be}from"./notesVue.vue_vue_type_script_setup_true_lang-C-bZ3TjI.js";import{_ as xe}from"./occupationHx.vue_vue_type_script_setup_true_lang-BtLXvUhc.js";import ke from"./pastHx-CDZ0BU_M.js";import{_ as Ce}from"./personalHx.vue_vue_type_script_setup_true_lang-B2J9Vti7.js";import{_ as $e}from"./presentIllnessChild.vue_vue_type_script_setup_true_lang-BdrUbZuF.js";import{_ as we}from"./socialHx.vue_vue_type_script_setup_true_lang-BosUWvf9.js";import{_ as X}from"./therapyVue.vue_vue_type_script_setup_true_lang-Dp-ZunL4.js";import{d as ge,ap as Se,k as Ue,j as He,aq as Pe,r as n,w as Ie,a as _,o as s,c as Z,e as G,b as a,f as u,v as y,n as e,x as ee,g as r,ad as m,z as d,F as Re}from"./index-B-uKkDM3.js";import{u as Fe}from"./useApi-CiYK4OrD.js";import{$ as Te}from"./api-faFk6m2o.js";import{a as Be}from"./differenceInYears-BdTDs0wt.js";import"./AppTextarea.vue_vue_type_script_setup_true_lang-guWQwSSl.js";import"./suggestions-DtVrTijw.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-Cn5QAR7R.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-D4FjpNKY.js";import"./validators-DR7cptrM.js";import"./helpers-BGv4x_9E.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-B3bPRkoL.js";const Ne={class:"d-flex justify-space-between"},Oe={key:0,class:"d-flex flex-wrap gap-4 justify-sm-space-between justify-center mt-8"},ft=ge({__name:"[id]",async setup(De){var M;let x,Y;const f=Se("userData").value,j=Ue(),k=He(),{data:te}=([x,Y]=Pe(()=>Fe(`/patients/visits/${f==null?void 0:f.id}/${k.query.visit}`)),x=await x,Y(),x),o=te.value,i=n(o.follow_up),c=Be(new Date,new Date(o.patient.dob))<14,E=[{title:"Chief Complaint",subtitle:""},{title:"Present Illness",subtitle:""},{title:"Family History",subtitle:""},{title:"Past History",subtitle:""},{title:"Social History",subtitle:""},{title:"Personal History",subtitle:""},{title:"Occupational History",subtitle:""},{title:"Forensic History",subtitle:""},{title:"Examination",subtitle:""},{title:"Differential Diagnosis",subtitle:""},{title:"Investigation",subtitle:""},{title:"Notes",subtitle:""},{title:"Management",subtitle:""},{title:"Therapy",subtitle:""}],q=[{title:"Follow up Notes",subtitle:""},{title:"Management",subtitle:""}],L=[{title:"Chief Complaint",subtitle:""},{title:"Present Illness",subtitle:""},{title:"Development History",subtitle:""},{title:"Family History",subtitle:""},{title:"Past History",subtitle:""},{title:"Social History",subtitle:""},{title:"Examination",subtitle:""},{title:"Consultations",subtitle:""},{title:"Differential Diagnosis",subtitle:""},{title:"Investigations",subtitle:""},{title:"Notes",subtitle:""},{title:"Management",subtitle:""},{title:"Therapy",subtitle:""}];let V=n();V.value=c?L:i.value?q:E,Ie(i,D=>{V.value=c?L:i.value?q:E});const p=n(0);n(k.params.id),n((M=o.doctor)==null?void 0:M.name),n(),n(o.clinic),n();const C=n(o.chief_complaint||{complaint:""}),$=n(o.present_illness||{notes:""}),w=n(o.patient.development||{selectedYear:[""],selectedPeripartum:[""]}),g=n(o.patient.family_hx),S=n(o.patient.past_hx),U=n(o.patient.social_hx),H=n(o.patient.personal_hx),P=n(o.patient.occupation_hx),I=n(o.patient.forensic_hx),R=n(o.ix),F=n(o.examination),T=n(o.consultations),B=n(o.management),N=n(o.ddx),O=n(o.notes),le=`/visits-edit/${f==null?void 0:f.id}/${k.query.visit}/${o.patient.id}`,oe=async()=>{if(f)try{const D=await Te(le,{method:"POST",body:{patient_id:o.patient.id,chief_complaint:C.value,examination:F.value,ddx:N.value,present_illness:$.value,consultations:T.value,ix:R.value,management:B.value,notes:O.value,social_hx:U.value,family_hx:g.value,personal_hx:H.value,forensic_hx:I.value,occupation_hx:P.value,past_hx:S.value,development:w.value,follow_up:i.value},onResponseError({response:t}){console.log(t._data)}});j.push(`/patients/${k.params.id}`)}catch(D){console.error(D)}};return(D,t)=>{const v=_("VBtn"),W=_("VRadio"),ae=_("VRadioGroup"),h=_("VCardText"),ne=re,A=_("VCol"),z=_("VWindow"),J=_("VIcon"),K=_("VForm"),ie=_("VRow"),se=_("VCard");return s(),Z(Re,null,[G("div",Ne,[a(v,{variant:"flat",color:"warning",class:"mb-5",onClick:e(j).back},{default:u(()=>[y(" Back ")]),_:1},8,["onClick"]),a(v,{variant:"plain",color:"secondary"},{default:u(()=>[y(" Patient : "+ee(e(o).patient.name),1)]),_:1}),a(v,{variant:"plain",color:"secondary"},{default:u(()=>{var b;return[y(" Dr. "+ee((b=e(o).doctor)==null?void 0:b.name),1)]}),_:1})]),a(se,null,{default:u(()=>[a(ie,null,{default:u(()=>{var b,Q;return[e(V)&&((b=e(f))==null?void 0:b.role)!=="PSYCHOLOGIST"?(s(),r(A,{key:0,cols:"12",md:"3",class:"border-e"},{default:u(()=>[a(h,null,{default:u(()=>[a(ae,{modelValue:e(i),"onUpdate:modelValue":t[0]||(t[0]=l=>m(i)?i.value=l:null),inline:""},{default:u(()=>[a(W,{label:"Classic",value:!1}),a(W,{label:"Follow Up",value:!0})]),_:1},8,["modelValue"])]),_:1}),a(h,null,{default:u(()=>{var l;return[e(V)&&((l=e(f))==null?void 0:l.role)!=="PSYCHOLOGIST"?(s(),r(ne,{key:0,"current-step":e(p),"onUpdate:currentStep":t[1]||(t[1]=ue=>m(p)?p.value=ue:null),direction:"vertical",items:e(V)},null,8,["current-step","items"])):d("",!0)]}),_:1})]),_:1})):d("",!0),e(V)&&((Q=e(f))==null?void 0:Q.role)!=="PSYCHOLOGIST"?(s(),r(A,{key:1,cols:"12",md:"9"},{default:u(()=>[a(h,null,{default:u(()=>[a(K,null,{default:u(()=>[G("div",null,[a(z,{modelValue:e(p),"onUpdate:modelValue":t[17]||(t[17]=l=>m(p)?p.value=l:null),class:"disable-tab-transition"},{default:u(()=>[e(i)?d("",!0):(s(),r(me,{key:0,modelValue:e(C),"onUpdate:modelValue":t[2]||(t[2]=l=>m(C)?C.value=l:null)},null,8,["modelValue"])),e(i)?d("",!0):(s(),r($e,{key:1,modelValue:e($),"onUpdate:modelValue":t[3]||(t[3]=l=>m($)?$.value=l:null),child:c},null,8,["modelValue"])),c&&!e(i)?(s(),r(fe,{key:2,modelValue:e(w),"onUpdate:modelValue":t[4]||(t[4]=l=>m(w)?w.value=l:null)},null,8,["modelValue"])):d("",!0),e(i)?d("",!0):(s(),r(ce,{key:3,modelValue:e(g),"onUpdate:modelValue":t[5]||(t[5]=l=>m(g)?g.value=l:null)},null,8,["modelValue"])),e(i)?d("",!0):(s(),r(ke,{key:4,modelValue:e(S),"onUpdate:modelValue":t[6]||(t[6]=l=>m(S)?S.value=l:null)},null,8,["modelValue"])),e(i)?d("",!0):(s(),r(we,{key:5,modelValue:e(U),"onUpdate:modelValue":t[7]||(t[7]=l=>m(U)?U.value=l:null)},null,8,["modelValue"])),!c&&!e(i)?(s(),r(Ce,{key:6,modelValue:e(H),"onUpdate:modelValue":t[8]||(t[8]=l=>m(H)?H.value=l:null)},null,8,["modelValue"])):d("",!0),!c&&!e(i)?(s(),r(xe,{key:7,modelValue:e(P),"onUpdate:modelValue":t[9]||(t[9]=l=>m(P)?P.value=l:null)},null,8,["modelValue"])):d("",!0),!c&&!e(i)?(s(),r(Ve,{key:8,modelValue:e(I),"onUpdate:modelValue":t[10]||(t[10]=l=>m(I)?I.value=l:null)},null,8,["modelValue"])):d("",!0),e(i)?d("",!0):(s(),r(_e,{key:9,modelValue:e(F),"onUpdate:modelValue":t[11]||(t[11]=l=>m(F)?F.value=l:null)},null,8,["modelValue"])),c&&!e(i)?(s(),r(de,{key:10,modelValue:e(T),"onUpdate:modelValue":t[12]||(t[12]=l=>m(T)?T.value=l:null)},null,8,["modelValue"])):d("",!0),e(i)?d("",!0):(s(),r(pe,{key:11,modelValue:e(N),"onUpdate:modelValue":t[13]||(t[13]=l=>m(N)?N.value=l:null),child:c},null,8,["modelValue"])),e(i)?d("",!0):(s(),r(ve,{key:12,modelValue:e(R),"onUpdate:modelValue":t[14]||(t[14]=l=>m(R)?R.value=l:null)},null,8,["modelValue"])),a(be,{modelValue:e(O),"onUpdate:modelValue":t[15]||(t[15]=l=>m(O)?O.value=l:null)},null,8,["modelValue"]),a(ye,{modelValue:e(B),"onUpdate:modelValue":t[16]||(t[16]=l=>m(B)?B.value=l:null)},null,8,["modelValue"]),a(X,{visit:e(o),psychologist:!1},null,8,["visit"])]),_:1},8,["modelValue"])]),e(p)!==e(V).length-1||e(i)?(s(),Z("div",Oe,[a(v,{color:"secondary",variant:"tonal",disabled:e(p)===0,onClick:t[18]||(t[18]=l=>p.value--)},{default:u(()=>[a(J,{icon:"tabler-arrow-left",start:"",class:"flip-in-rtl"}),y(" Previous ")]),_:1},8,["disabled"]),a(v,{color:"success",onClick:oe},{default:u(()=>[y(" Save ")]),_:1}),e(p)!==e(V).length-1?(s(),r(v,{key:0,onClick:t[19]||(t[19]=l=>p.value++)},{default:u(()=>[y(" Next "),a(J,{icon:"tabler-arrow-right",end:"",class:"flip-in-rtl"})]),_:1})):d("",!0)])):d("",!0)]),_:1})]),_:1})]),_:1})):(s(),r(A,{key:2},{default:u(()=>[a(h,null,{default:u(()=>[a(K,null,{default:u(()=>[G("div",null,[a(z,null,{default:u(()=>[a(X,{visit:e(o),psychologist:!0},null,8,["visit"])]),_:1})])]),_:1})]),_:1})]),_:1}))]}),_:1})]),_:1})],64)}}});export{ft as default};
