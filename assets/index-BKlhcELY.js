import{_ as k}from"./AppTextField.vue_vue_type_script_setup_true_lang-DKaaay4V.js";import{d as x,b8 as A,r as _,H as M,o as s,c as l,n as T,e as o,v as B,x as v,F as d,i as h,b as F,z as R,K as f,d7 as C}from"./index-Zv46-Gya.js";import{$ as S}from"./api-CHDttjGV.js";import"./form-D6XNUAbo.js";import"./VTextField-RrDujPJA.js";/* empty css                   */import"./VCounter-C6DrztUk.js";import"./index-DifqrChY.js";import"./index-B1MJiJKT.js";import"./VField-DpvJIASS.js";import"./easing-CjukEv2V.js";import"./VInput-CgPgm4GN.js";import"./forwardRefs-C-GTDzx5.js";import"./index-B3bPRkoL.js";const z=o("h3",null,"Coming Soon . . .",-1),D={key:0},E=o("h2",null,"Manage Suggestions",-1),H=["onUpdate:modelValue"],I=["onClick"],K=["onUpdate:modelValue"],L=["onClick"],te=x({__name:"index",setup(O){const t=A("userData").value,b=`/suggestions/${t==null?void 0:t.id}`,n=_({}),a=_({});M(async()=>{try{const e=await S(b);n.value=e,console.log("data"),console.log(e)}catch(e){console.log(e)}});const V=e=>{a.value[e]&&(n.value[e].push(a.value[e]),a.value[e]="")},$=(e,p)=>{n.value[e].splice(p,1)},w=async()=>{(await S(`/suggestions-edit/${t==null?void 0:t.id}`,{method:"POST",body:n.value})).success&&alert("Suggestions updated")};return(e,p)=>{var m;const N=k;return s(),l(d,null,[z,((m=T(t))==null?void 0:m.role)==="ADMIN"?(s(),l("div",D,[o("div",null,[E,B(" "+v(n.value)+" ",1),(s(!0),l(d,null,h(n.value,(u,i)=>(s(),l("div",{key:i},[o("h3",null,v(u),1),o("ul",null,[(s(!0),l(d,null,h(u,(c,r)=>(s(),l("li",{key:r},[f(o("input",{"onUpdate:modelValue":g=>u[r]=g},null,8,H),[[C,u[r]]]),o("button",{onClick:g=>$(i,r)}," Remove ",8,I)]))),128))]),f(o("input",{"onUpdate:modelValue":c=>a.value[i]=c,placeholder:"Add new suggestion"},null,8,K),[[C,a.value[i]]]),o("button",{onClick:c=>V(i)},"Add",8,L)]))),128)),o("button",{onClick:w},"Save Changes")]),o("div",null,[F(N,{placeholder:"Write suggestion",label:"Regular",clearable:""})])])):R("",!0)],64)}}});export{te as default};
