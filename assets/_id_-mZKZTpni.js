import{a as Q,b as X}from"./formatters-DocrwTSm.js";import{r as U,c as z,f as J,g as Z}from"./myFormat-D_0w4-pK.js";import{_ as tt}from"./UserInfoEditDialog.vue_vue_type_script_setup_true_lang-BjaeT50B.js";import{_ as et}from"./editPatient.vue_vue_type_style_index_0_lang-CffOJisg.js";import{a as $,V as H}from"./VRow-DOVNmmJf.js";import{V as A}from"./VCardText-CGs8eESK.js";import{V as at}from"./VAvatar-DBfBAZu7.js";import{V as st}from"./VImg-BK1BbvwO.js";import{V as nt,a as p}from"./VList-kKFK7dxv.js";import{V as ot,a as lt,b as it,c as rt}from"./VExpansionPanel-bkxzZKTT.js";import{d as O,r as k,a6 as dt,o as i,c as x,b as a,f as e,g as D,x as n,n as o,e as t,v as l,z as g,y as ct,F as C,i as P,aj as T,aX as S,Q as pt,R as ut,b8 as W,k as M,j as Y,cz as _t,b9 as mt,a0 as ft}from"./index-BNe3iSx6.js";import{V as q}from"./VCard-DG6hJfrD.js";import{a as ht,d as j}from"./differenceInYears-BdTDs0wt.js";import{_ as bt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as Dt}from"./validators-DR7cptrM.js";import{e as xt}from"./suggestions-DtVrTijw.js";import{_ as yt}from"./AppTextarea.vue_vue_type_script_setup_true_lang-BXN14Cj-.js";import{V as G,a as L}from"./VTabs-CBZm7GwO.js";import{V as K,a as R}from"./VWindowItem-hWudWvqO.js";import{V as vt}from"./VDivider-CM-y2zl4.js";import{V as gt}from"./VChip-BwKZ_XH6.js";import{V as Vt,a as kt}from"./VTimelineItem-Csi2JGZ2.js";import{d as wt,f as $t}from"./formatDistanceToNow-B7vy9z-r.js";import{u as At}from"./useApi-BUGRDS6B.js";import{$ as Ct}from"./api-CtE8Zb_s.js";import{V as Tt}from"./VAlert-BNugi3qU.js";import"./helpers-BGv4x_9E.js";import"./AppAutocomplete.vue_vue_type_script_setup_true_lang-C8rfz8Bm.js";import"./form-CYHEEWku.js";import"./VSelect-C7Um6dC2.js";import"./VTextField-Df7ZMBw6.js";/* empty css                   */import"./VCounter-DcJPekVp.js";import"./index-CXDhbwuJ.js";import"./index-worTYxRe.js";import"./VField-D-7pYA9i.js";import"./easing-CjukEv2V.js";import"./VInput-BA_yWvj6.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-Bmo9KByv.js";import"./VMenu-C6eh8cDm.js";import"./VOverlay-DL8wVgXG.js";import"./lazy-CDup4nDO.js";import"./scopeId-BGUwXxOu.js";import"./VCheckboxBtn-j5jj7VbX.js";import"./VSelectionControl-CU_m_xp3.js";import"./filter-B-H5c98I.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-CLjGCTTO.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-BTg6OWkX.js";import"./VForm-E8tomZuP.js";import"./VRadioGroup-C6-f6rgy.js";import"./VDialog-AABF9tij.js";import"./AppDateTimePicker.vue_vue_type_style_index_0_lang-DqWIq08h.js";import"./CustomRadios-BXmI9j_S.js";import"./VSpacer-C7wBXCU-.js";/* empty css              */import"./createSimpleFunctional-BRHhBr36.js";import"./AppDrawerHeaderSection.vue_vue_type_script_setup_true_lang-C8g00DcV.js";import"./vue3-perfect-scrollbar.esm-BCfixt06.js";import"./VNavigationDrawer-C8xtdDdY.js";import"./ssrBoot-TGnv31bQ.js";import"./BlobServiceClient-eLUcUCiZ.js";import"./__vite-browser-external-DFygW7-s.js";import"./VSlideGroup-C5he0MzP.js";import"./index-Dz1rBMAR.js";const I=V=>(pt("data-v-1d8193e0"),V=V(),ut(),V),It={key:1,class:"text-5xl font-weight-medium"},Et={class:"text-h5 mt-4"},Pt={class:"text-h6"},St={class:"text-body-1 d-inline-block"},Nt={class:"text-h6"},Bt={class:"text-body-1 d-inline-block"},Ft={class:"text-h6"},Rt={class:"text-body-1 d-inline-block"},Ht={class:"text-h6"},Ot={class:"text-body-1 d-inline-block"},zt=I(()=>t("p",{class:"d-block mt-4 mb-2 text-primary"},"Demographics",-1)),Lt={key:0},qt={class:"text-h6"},Ut={class:"text-body-1 d-inline-block"},jt={class:"text-h6"},Wt={class:"text-body-1 d-inline-block"},Mt={class:"text-h6"},Yt={class:"text-body-1 d-inline-block"},Gt={class:"text-h6"},Kt={class:"text-body-1 d-inline-block"},Qt={class:"text-h6"},Xt={class:"text-body-1 d-inline-block"},Jt=I(()=>t("br",null,null,-1)),Zt={key:1},te={class:"text-h6"},ee=I(()=>t("p",{class:"d-block mt-4 mb-2 text-primary"},"Father",-1)),ae={class:"text-h6"},se={class:"text-body-1 d-inline-block"},ne={class:"text-h6"},oe={class:"text-body-1 d-inline-block"},le={class:"text-h6"},ie={class:"text-body-1 d-inline-block"},re={class:"text-h6"},de={class:"text-body-1 d-inline-block"},ce={class:"text-h6"},pe={class:"text-body-1 d-inline-block"},ue=I(()=>t("p",{class:"d-block mt-4 mb-2 text-primary"},"Mother",-1)),_e={class:"text-h6"},me={class:"text-body-1 d-inline-block"},fe={class:"text-h6"},he={class:"text-body-1 d-inline-block"},be={class:"text-h6"},De={class:"text-body-1 d-inline-block"},xe={class:"text-h6"},ye={class:"text-body-1 d-inline-block"},ve={class:"text-h6"},ge={class:"text-body-1 d-inline-block"},Ve=I(()=>t("br",null,null,-1)),ke={class:"text-h6 text-primary"},we={class:"text-body-1 d-inline-block"},$e={class:"text-h6 text-primary"},Ae={class:"text-body-1 d-inline-block"},Ce=I(()=>t("br",null,null,-1)),Te={class:"text-h6 text-primary"},Ie={class:"text-body-1 d-inline-block"},Ee=I(()=>t("br",null,null,-1)),Pe=O({__name:"CustomerBioPanel",props:{patientData:{}},setup(V){const f=k(!1),h=k(!1),s=V,u=k(s.patientData),r=dt(()=>({...u.value,createdAt:U(u.value.createdAt),age:z(u.value.dob),dob:U(u.value.dob)})),_=ht(new Date,new Date(s.patientData.dob))<14;let b=[];return _?b=[{name:"Family History",data:u.value.family_hx},{name:"Social History",data:u.value.social_hx}]:b=[{name:"Family History",data:u.value.family_hx},{name:"Social History",data:u.value.social_hx},{name:"Personal History",data:u.value.personal_hx},{name:"Occupation History",data:u.value.occupation_hx},{name:"Forensic History",data:u.value.forensic_hx}],(m,c)=>{const E=tt;return i(),x(C,null,[a(H,null,{default:e(()=>[a($,{cols:"12"},{default:e(()=>[s.patientData?(i(),D(q,{key:0},{default:e(()=>[a(A,{class:"text-center pt-12"},{default:e(()=>[a(at,{rounded:"",size:120,color:s.patientData.name?void 0:"primary",variant:s.patientData.avatar?void 0:"tonal"},{default:e(()=>[s.patientData.avatar?(i(),D(st,{key:0,src:s.patientData.avatar},null,8,["src"])):(i(),x("span",It,n(("avatarText"in m?m.avatarText:o(Q))(s.patientData.name)),1))]),_:1},8,["color","variant"]),t("h5",Et,n(s.patientData.name),1)]),_:1}),a(A,null,{default:e(()=>[a(nt,{class:"card-list mt-2"},{default:e(()=>[a(p,null,{default:e(()=>[t("h6",Pt,[l(" Gender: "),t("span",St,n(s.patientData.gender),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",Nt,[l(" Birth Date : "),t("span",Bt,n(("removeTimeFromDate"in m?m.removeTimeFromDate:o(U))(s.patientData.dob)),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",Ft,[l(" Age : "),t("span",Rt,n(("calculateAge"in m?m.calculateAge:o(z))(s.patientData.dob)),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",Ht,[l(" Phone : "),t("span",Ot,n(s.patientData.phone),1)])]),_:1}),zt,s.patientData.demographics?(i(),x("div",Lt,[_?(i(),D(p,{key:0},{default:e(()=>{var d;return[t("h6",qt,[l(" Marital Status : "),t("span",Ut,n((d=s.patientData.demographics[0])==null?void 0:d.marital_status),1)])]}),_:1})):g("",!0),_?(i(),D(p,{key:1},{default:e(()=>{var d;return[t("h6",jt,[l(" Children : "),t("span",Wt,n((d=s.patientData.demographics[0])==null?void 0:d.children),1)])]}),_:1})):g("",!0),a(p,null,{default:e(()=>{var d;return[t("h6",Mt,[l(" Residence : "),t("span",Yt,n((d=s.patientData.demographics[0])==null?void 0:d.residence),1)])]}),_:1}),a(p,null,{default:e(()=>{var d;return[t("h6",Gt,[l(" Education : "),t("span",Kt,n((d=s.patientData.demographics[0])==null?void 0:d.education),1)])]}),_:1}),_?(i(),D(p,{key:2},{default:e(()=>{var d;return[t("h6",Qt,[l(" Work : "),t("span",Xt,n((d=s.patientData.demographics[0])==null?void 0:d.occupation),1)])]}),_:1})):g("",!0)])):g("",!0),Jt,_?(i(),x("div",Zt,[a(p,null,{default:e(()=>[t("h6",te,[t("span",{class:ct(s.patientData.related?"text-primary":"")},n(s.patientData.related?"Related":"Not Related"),3),l(" Parents ")])]),_:1}),ee,a(p,null,{default:e(()=>[t("h6",ae,[l(" Birth Date : "),t("span",se,n(s.patientData.father_dob?new Date(s.patientData.father_dob).getFullYear():""),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",ne,[l(" Age at Birth : "),t("span",oe,n(s.patientData.father_dob?o(j)(s.patientData.dob,s.patientData.father_dob):""),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",le,[l(" Age Now : "),t("span",ie,n(s.patientData.father_dob?("calculateAge"in m?m.calculateAge:o(z))(s.patientData.father_dob?s.patientData.father_dob.toString():"1"):""),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",re,[l(" Education : "),t("span",de,n(s.patientData.father_edu),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",ce,[l(" Work : "),t("span",pe,n(s.patientData.father_work),1)])]),_:1}),ue,a(p,null,{default:e(()=>[t("h6",_e,[l(" Birth Date : "),t("span",me,n(s.patientData.mother_dob?new Date(s.patientData.mother_dob).getFullYear():""),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",fe,[l(" Age at Birth : "),t("span",he,n(s.patientData.mother_dob?o(j)(s.patientData.dob,s.patientData.mother_dob):""),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",be,[l(" Age Now : "),t("span",De,n(s.patientData.mother_dob?("calculateAge"in m?m.calculateAge:o(z))(s.patientData.mother_dob?s.patientData.mother_dob.toString():"1"):""),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",xe,[l(" Education : "),t("span",ye,n(s.patientData.mother_edu),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",ve,[l(" Work : "),t("span",ge,n(s.patientData.mother_work),1)])]),_:1}),Ve,a(p,null,{default:e(()=>[t("h6",ke,[l(" Siblings : "),t("span",we,n(s.patientData.siblings),1)])]),_:1}),a(p,null,{default:e(()=>[t("h6",$e,[l(" Order in Siblings : "),t("span",Ae,n(o(J)(s.patientData.order)),1)])]),_:1}),Ce])):g("",!0),a(p,null,{default:e(()=>[t("h6",Te,[l(" Notes : "),t("span",Ie,n(s.patientData.notes),1)])]),_:1})]),_:1}),Ee,o(b)&&o(b)[0].data?(i(),D(ot,{key:0,multiple:""},{default:e(()=>[(i(!0),x(C,null,P(o(b),d=>(i(),D(lt,null,{default:e(()=>[a(it,null,{default:e(()=>[l(n(d.name),1)]),_:2},1024),(i(!0),x(C,null,P(d.data,(w,v)=>(i(),D(rt,null,{default:e(()=>[l(n(v)+": "+n(w),1)]),_:2},1024))),256))]),_:2},1024))),256))]),_:1})):g("",!0)]),_:1}),a(A,{class:"text-center"},{default:e(()=>[a(T,{block:"",onClick:c[0]||(c[0]=d=>h.value=!o(h))},{default:e(()=>[l(" Edit Patient Details ")]),_:1})]),_:1})]),_:1})):g("",!0)]),_:1}),a(et,{"patient-data":o(r),"is-drawer-open":o(h),"onUpdate:isDrawerOpen":c[1]||(c[1]=d=>S(h)?h.value=d:null)},null,8,["patient-data","is-drawer-open"])]),_:1}),a(E,{isDialogVisible:o(f),"onUpdate:isDialogVisible":c[2]||(c[2]=d=>S(f)?f.value=d:null),"user-data":o(u),onSubmit:c[3]||(c[3]=()=>{})},null,8,["isDialogVisible","user-data"])],64)}}}),Se=bt(Pe,[["__scopeId","data-v-1d8193e0"]]),Ne={class:"my-5"},Be=O({__name:"CustomerTabTests",setup(V){k(!1),k(!1),k("+1(968) 819-2547"),k(!1);const f=k("personal-info");return(h,s)=>{const u=yt;return i(),D(H,null,{default:e(()=>[a($,{cols:"12"},{default:e(()=>[a(q,{title:"Psychometric Tests"},{default:e(()=>[a(A,null,{default:e(()=>[a(G,{modelValue:o(f),"onUpdate:modelValue":s[0]||(s[0]=r=>S(f)?f.value=r:null)},{default:e(()=>[a(L,{value:"personal-info"},{default:e(()=>[l(" Personal Info ")]),_:1}),a(L,{value:"account-details"},{default:e(()=>[l(" Account Details ")]),_:1}),a(L,{value:"social-links"},{default:e(()=>[l(" Social Links ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(q,{flat:""},{default:e(()=>[a(A,null,{default:e(()=>[a(K,{modelValue:o(f),"onUpdate:modelValue":s[2]||(s[2]=r=>S(f)?f.value=r:null),class:"disable-tab-transition"},{default:e(()=>[a(R,{value:"personal-info"},{default:e(()=>[a(H,{class:"mb-5"},{default:e(()=>[a($,{cols:"6",md:"6"},{default:e(()=>[a(u,{label:"Complaint","auto-grow":"",rows:"2",onKeyup:s[1]||(s[1]=()=>{}),rules:["requiredValidator"in h?h.requiredValidator:o(Dt)]},null,8,["rules"])]),_:1}),a($,null,{default:e(()=>[t("div",Ne,[(i(!0),x(C,null,P("chief_complains"in h?h.chief_complains:o(xt),r=>(i(),D(gt,{class:"me-2 mb-2",size:"x-small"},{default:e(()=>[l(n(r),1)]),_:2},1024))),256))])]),_:1})]),_:1})]),_:1}),a(R,{value:"account-details"}),a(R,{value:"social-links"})]),_:1},8,["modelValue"])]),_:1}),a(vt),a(A,{class:"d-flex gap-4"},{default:e(()=>[a(T,null,{default:e(()=>[l("Submit")]),_:1}),a(T,{color:"secondary",variant:"tonal"},{default:e(()=>[l(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Fe={class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2"},Re={class:"app-timeline-title"},He={class:"app-timeline-meta"},Oe={key:0,class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2"},ze={class:"app-timeline-text mt-1"},Le=t("span",{class:"text-warning"}," Chief Complaint: ",-1),qe={class:"app-timeline-meta"},Ue={key:1,class:"app-timeline-text mt-1"},je=t("span",{class:"text-warning"}," Diagnosis: ",-1),We={key:2,class:"app-timeline-text mt-1"},Me=t("span",{class:"text-warning"}," Follow up notes: ",-1),Ye={class:"app-timeline-text mt-1"},Ge=t("span",{class:"text-warning"}," Management: ",-1),Ke={class:"app-timeline-text mt-1"},Qe=t("span",{class:"text-warning"}," Doctor: ",-1),Xe=O({__name:"visitTimeLine",props:{patientData:{}},setup(V){const f=W("userData").value,h=M();Y();const{patientData:s}=V;let u=!1;return _t(()=>{var r,_;(r=s.visits)!=null&&r.slice().reverse()[0]?u=wt(new Date,(_=s.visits)==null?void 0:_.slice().reverse()[0].createdAt)>=8:u=!0}),console.log(s.visits),(r,_)=>(i(),D(q,{title:"Visits Timeline"},{default:e(()=>[a(A,null,{default:e(()=>{var b;return[o(u)&&((b=o(f))==null?void 0:b.role)==="DOCTOR"?(i(),D(T,{key:0,variant:"outlined",class:"mb-5",onClick:_[0]||(_[0]=m=>o(h).push({name:"patients-visits-new-id",params:{id:r.patientData.id},query:{dob:r.patientData.dob,name:r.patientData.name}}))},{default:e(()=>[l(" New Visit ")]),_:1})):g("",!0),a(Vt,{side:"end",align:"start","line-inset":"8","truncate-line":"start",density:"compact"},{default:e(()=>{var m;return[(i(!0),x(C,null,P((m=r.patientData.visits)==null?void 0:m.slice().reverse(),(c,E)=>(i(),D(kt,{"dot-color":"primary",size:"x-small"},{default:e(()=>{var d,w,v,N,B,F;return[t("div",Fe,[t("span",Re,n(("getVisitNumber"in r?r.getVisitNumber:o(Z))(r.patientData.visits,E))+" visit ",1),t("span",He,n(o($t)(new Date(c.createdAt),{addSuffix:!0})),1)]),c.follow_up?g("",!0):(i(),x("div",Oe,[t("div",ze,[Le,t("li",null,n((d=c.chief_complaint)==null?void 0:d.complaint)+" for "+n((w=c.chief_complaint)==null?void 0:w.duration),1)]),t("span",qe,n(("formatDate"in r?r.formatDate:o(X))(c.createdAt)),1)])),c.follow_up?(i(),x("div",We,[Me,t("li",null,n((N=c.notes)==null?void 0:N.notes),1)])):(i(),x("div",Ue,[je,t("li",null,n((v=c.ddx)==null?void 0:v.differential),1)])),t("div",Ye,[Ge,(i(!0),x(C,null,P((B=c.management)==null?void 0:B.managements,y=>(i(),x("li",null,n(y.name)+" "+n(y.form)+" "+n(y.dose)+" "+n(y.use),1))),256))]),t("div",Ke,[Qe,t("li",null,n((F=c.doctor)==null?void 0:F.name),1)]),!o(u)&&c.active?(i(),D(T,{key:3,variant:"tonal",class:"d-inline-flex align-center mt-4",onClick:y=>o(h).push({name:"patients-visits-edit-id",params:{id:r.patientData.id},query:{visit:c.id}})},{default:e(()=>[l(" Edit Visit ")]),_:2},1032,["onClick"])):(i(),D(T,{key:4,variant:"tonal",class:"d-inline-flex align-center mt-4",onClick:y=>o(h).push({name:"patients-visits-open-id",params:{id:r.patientData.id},query:{visit:c.id,dob:r.patientData.dob,name:r.patientData.name}})},{default:e(()=>[l("Open Visit ")]),_:2},1032,["onClick"]))]}),_:2},1024))),256))]}),_:1})]}),_:1})]),_:1}))}}),Je=O({__name:"CustomerTabVisits",props:{patientData:{}},setup(V){return(f,h)=>(i(),D(H,null,{default:e(()=>[a($,null,{default:e(()=>[a(Xe,{patientData:f.patientData},null,8,["patientData"])]),_:1})]),_:1}))}}),Ze={class:"d-flex justify-space-between align-center flex-wrap gap-y-4 mb-6"},ta={class:"text-h4 mb-1"},ea={class:"text-body-1"},aa={key:0,class:"d-flex gap-4"},sa={key:1},fs=O({__name:"[id]",async setup(V){let f,h;const s=Y(),u=M(),r=s.params,_=W("userData").value;console.log(_);const b=k(),m=k(null),c=[{title:"Visits",icon:"tabler-file"},{title:"Tests",icon:"tabler-flask"}],{data:E}=([f,h]=mt(()=>At(`/patients/${_==null?void 0:_.id}/${r.id}`)),f=await f,h(),f);console.log(E);const d=async()=>{if(_)try{const w=await Ct(`/patient-delete/${_==null?void 0:_.id}/${r.id}`,{method:"DELETE",onResponseError({response:v}){console.log(v)}});console.log(w),u.push("/patients")}catch(w){console.error(w)}};return b.value=E.value,(w,v)=>{var N,B,F;return i(),x("div",null,[t("div",Ze,[t("div",null,[t("h4",ta,"Patient ID #"+n(o(r).id),1),t("div",ea," Added At: "+n((N=o(b))!=null&&N.createdAt?new Date((B=o(b))==null?void 0:B.createdAt).toLocaleString():"Cannot Display Date"),1)]),((F=o(_))==null?void 0:F.role)==="ADMIN"?(i(),x("div",aa,[a(T,{onClick:d,variant:"tonal",color:"error"},{default:e(()=>[l(" Delete Patient ")]),_:1})])):g("",!0)]),o(b)?(i(),D(H,{key:0},{default:e(()=>[o(b)?(i(),D($,{key:0,cols:"12",md:"5",lg:"4"},{default:e(()=>[a(Se,{"patient-data":o(b)},null,8,["patient-data"])]),_:1})):g("",!0),a($,{cols:"12",md:"7",lg:"8"},{default:e(()=>[a(G,{modelValue:o(m),"onUpdate:modelValue":v[0]||(v[0]=y=>S(m)?m.value=y:null),class:"v-tabs-pill mb-3 disable-tab-transition"},{default:e(()=>[(i(),x(C,null,P(c,y=>a(L,{key:y.title},{default:e(()=>[a(ft,{size:"20",start:"",icon:y.icon},null,8,["icon"]),l(" "+n(y.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),a(K,{modelValue:o(m),"onUpdate:modelValue":v[1]||(v[1]=y=>S(m)?m.value=y:null),class:"disable-tab-transition",touch:!1},{default:e(()=>[a(R,null,{default:e(()=>[a(Je,{patientData:o(b)},null,8,["patientData"])]),_:1}),a(R,null,{default:e(()=>[a(Be,{patientData:o(b)},null,8,["patientData"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):(i(),x("div",sa,[a(Tt,{type:"error",variant:"tonal"},{default:e(()=>[l(" patient with ID "+n(o(r).id)+" not found! ",1)]),_:1})]))])}}});export{fs as default};
