import{a as j,f as rt,b as dt}from"./formatters-DocrwTSm.js";import{aA as ut,d as N,a as i,n as t,o as d,c as g,e as s,b as e,f as l,y as D,g as k,x,v as F,F as S,z,a4 as E,aF as ht,ad as A,i as L,K as W,L as X,r as B,aG as mt,au as pt,w as vt,a2 as ft,aH as Y,aj as _t,ai as Z}from"./index-CJpjWKD8.js";import{P as q}from"./vue3-perfect-scrollbar.esm-CxpLtCk9.js";import{u as gt}from"./useApi-CQO22iJp.js";import{c as bt}from"./createUrl-CJbY2GEn.js";import{$ as G}from"./api-7mMiq-NG.js";import{_ as xt}from"./AppTextField.vue_vue_type_script_setup_true_lang-CcB8QWg0.js";import{_ as Ct}from"./AppTextarea.vue_vue_type_script_setup_true_lang-rgGHz1Qx.js";import{u as Vt}from"./useResponsiveSidebar-MQtYotvS.js";import"./helpers-BGv4x_9E.js";import"./index-B3bPRkoL.js";const R=()=>({resolveAvatarBadgeVariant:a=>a==="online"?"success":a==="busy"?"error":a==="away"?"warning":"secondary"}),O=ut("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(y){const{data:a,error:c}=await gt(bt("/apps/chat/chats-and-contacts",{query:{q:y}}));if(c.value)console.log(c.value);else{const{chatsContacts:u,contacts:f,profileUser:o}=a.value;this.chatsContacts=u,this.contacts=f,this.profileUser=o}},async getChat(y){const a=await G(`/apps/chat/chats/${y}`);this.activeChat=a},async sendMsg(y){var h,r,v,m,p;const a=(h=this.profileUser)==null?void 0:h.id,c=await G(`apps/chat/chats/${(r=this.activeChat)==null?void 0:r.contact.id}`,{method:"POST",body:{message:y,senderId:a}}),{msg:u,chat:f}=c;if(f!==void 0){const $=this.activeChat;this.chatsContacts.push({...$.contact,chat:{id:f.id,lastMessage:[],unseenMsgs:0,messages:[u]}}),this.activeChat&&(this.activeChat.chat={id:f.id,messages:[u],unseenMsgs:0,userId:(v=this.activeChat)==null?void 0:v.contact.id})}else(p=(m=this.activeChat)==null?void 0:m.chat)==null||p.messages.push(u);const o=this.chatsContacts.find($=>this.activeChat?$.id===this.activeChat.contact.id:!1);o.chat.lastMessage=u}}}),yt={class:"text-center px-6"},$t={key:1,class:"text-3xl"},kt={class:"text-h5"},wt={class:"text-capitalize text-body-1 mb-0"},It={class:"my-6"},At=s("div",{class:"text-sm text-disabled"}," ABOUT ",-1),Ut={class:"mt-1 mb-6"},Bt={class:"mb-6"},St=s("div",{class:"text-sm text-disabled mb-1"}," PERSONAL INFORMATION ",-1),Tt={class:"d-flex align-center text-high-emphasis pa-2"},Dt=s("div",{class:"text-base"}," lucifer@email.com ",-1),zt={class:"d-flex align-center text-high-emphasis pa-2"},Mt=s("div",{class:"text-base"}," +1(123) 456 - 7890 ",-1),Nt={class:"d-flex align-center text-high-emphasis pa-2"},Ot=s("div",{class:"text-base"}," Mon - Fri 10AM - 8PM ",-1),Pt=s("div",{class:"text-sm text-disabled mb-1"}," OPTIONS ",-1),Ft={class:"d-flex align-center text-high-emphasis pa-2"},Lt=s("div",{class:"text-base"}," Add Tag ",-1),Rt={class:"d-flex align-center text-high-emphasis pa-2"},Et=s("div",{class:"text-base"}," Important Contact ",-1),jt={class:"d-flex align-center text-high-emphasis pa-2"},qt=s("div",{class:"text-base"}," Shared Media ",-1),Ht={class:"d-flex align-center text-high-emphasis pa-2"},Jt=s("div",{class:"text-base"}," Delete Contact ",-1),Kt={class:"d-flex align-center text-high-emphasis pa-2"},Qt=s("div",{class:"text-base"}," Block Contact ",-1),Wt=N({__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(y){const a=O(),{resolveAvatarBadgeVariant:c}=R();return(u,f)=>{const o=i("VIcon"),h=i("IconBtn"),r=i("VImg"),v=i("VAvatar"),m=i("VBadge"),p=i("VBtn");return t(a).activeChat?(d(),g(S,{key:0},[s("div",{class:D(["pt-6 px-6",u.$vuetify.locale.isRtl?"text-left":"text-right"])},[e(h,{onClick:f[0]||(f[0]=$=>u.$emit("close"))},{default:l(()=>[e(o,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})],2),s("div",yt,[e(m,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:t(c)(t(a).activeChat.contact.status),class:"chat-user-profile-badge mb-5"},{default:l(()=>[e(v,{size:"84",variant:t(a).activeChat.contact.avatar?void 0:"tonal",color:t(a).activeChat.contact.avatar?void 0:t(c)(t(a).activeChat.contact.status)},{default:l(()=>[t(a).activeChat.contact.avatar?(d(),k(r,{key:0,src:t(a).activeChat.contact.avatar},null,8,["src"])):(d(),g("span",$t,x(("avatarText"in u?u.avatarText:t(j))(t(a).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",kt,x(t(a).activeChat.contact.fullName),1),s("p",wt,x(t(a).activeChat.contact.role),1)]),e(t(q),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-6 px-6",options:{wheelPropagation:!1}},{default:l(()=>[s("div",It,[At,s("p",Ut,x(t(a).activeChat.contact.about),1)]),s("div",Bt,[St,s("div",Tt,[e(o,{class:"me-2",icon:"tabler-mail",size:"22"}),Dt]),s("div",zt,[e(o,{class:"me-2",icon:"tabler-phone",size:"22"}),Mt]),s("div",Nt,[e(o,{class:"me-2",icon:"tabler-clock",size:"22"}),Ot])]),s("div",null,[Pt,s("div",Ft,[e(o,{class:"me-2",icon:"tabler-badge",size:"22"}),Lt]),s("div",Rt,[e(o,{class:"me-2",icon:"tabler-star",size:"22"}),Et]),s("div",jt,[e(o,{class:"me-2",icon:"tabler-photo",size:"22"}),qt]),s("div",Ht,[e(o,{class:"me-2",icon:"tabler-trash",size:"22"}),Jt]),s("div",Kt,[e(o,{icon:"tabler-ban",class:"me-2",size:"22"}),Qt]),e(p,{block:"",color:"error","append-icon":"tabler-trash",class:"mt-6"},{default:l(()=>[F(" Delete Contact ")]),_:1})])]),_:1})],64)):z("",!0)}}}),Xt={key:1},Yt={class:"flex-grow-1 ms-4 overflow-hidden"},Zt={class:"text-base text-high-emphasis mb-0"},Gt={class:"mb-0 text-truncate text-body-2"},te={key:0,class:"d-flex flex-column align-self-start"},ee={class:"text-body-2 text-disabled whitespace-no-wrap"},tt=N({__name:"ChatContact",props:{isChatContact:{type:Boolean,default:!1},user:{}},setup(y){const a=y,c=O(),{resolveAvatarBadgeVariant:u}=R(),f=E(()=>{var h,r;const o=((h=c.activeChat)==null?void 0:h.contact.id)===a.user.id;return(a.isChatContact||!((r=c.activeChat)!=null&&r.chat))&&o});return(o,h)=>{const r=i("VImg"),v=i("VAvatar"),m=i("VBadge");return d(),g("li",{key:t(c).chatsContacts.length,class:D(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":t(f)}])},[e(m,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(u)(a.user.status),bordered:"","model-value":a.isChatContact},{default:l(()=>[e(v,{size:"40",variant:a.user.avatar?void 0:"tonal",color:a.user.avatar?void 0:t(u)(a.user.status)},{default:l(()=>[a.user.avatar?(d(),k(r,{key:0,src:a.user.avatar,alt:"John Doe"},null,8,["src"])):(d(),g("span",Xt,x(("avatarText"in o?o.avatarText:t(j))(o.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),s("div",Yt,[s("p",Zt,x(a.user.fullName),1),s("p",Gt,x(a.isChatContact&&"chat"in a.user?a.user.chat.lastMessage.message:a.user.about),1)]),a.isChatContact&&"chat"in a.user?(d(),g("div",te,[s("div",ee,x(("formatDateToMonthShort"in o?o.formatDateToMonthShort:t(rt))(a.user.chat.lastMessage.time)),1),a.user.chat.unseenMsgs?(d(),k(m,{key:0,color:"error",inline:"",content:a.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):z("",!0)])):z("",!0)],2)}}}),se={key:0,class:"chat-list-header"},ae=s("li",{class:"list-none"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Chats ")],-1),oe={class:"no-chat-items-text text-disabled"},ne=s("li",{class:"list-none pt-2"},[s("h5",{class:"chat-contact-header text-primary text-h5"}," Contacts ")],-1),ce={class:"no-chat-items-text text-disabled"},le=N({__name:"ChatLeftSidebarContent",props:{search:{},isDrawerOpen:{type:Boolean}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(y,{emit:a}){const c=y,u=a,{resolveAvatarBadgeVariant:f}=R(),o=ht(c,"search",u),h=O();return(r,v)=>{const m=i("VImg"),p=i("VAvatar"),$=i("VBadge"),V=xt,w=i("VIcon"),M=i("IconBtn"),P=i("VDivider");return d(),g(S,null,[t(h).profileUser?(d(),g("div",se,[e($,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:t(f)(t(h).profileUser.status),bordered:""},{default:l(()=>[e(p,{size:"40",class:"cursor-pointer",onClick:v[0]||(v[0]=C=>r.$emit("showUserProfile"))},{default:l(()=>[e(m,{src:t(h).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),e(V,{modelValue:t(o),"onUpdate:modelValue":v[1]||(v[1]=C=>A(o)?o.value=C:null),placeholder:"Search...","prepend-inner-icon":"tabler-search",class:"ms-4 me-1 chat-list-search"},null,8,["modelValue"]),r.$vuetify.display.smAndDown?(d(),k(M,{key:0,onClick:v[2]||(v[2]=C=>r.$emit("close"))},{default:l(()=>[e(w,{icon:"tabler-x",class:"text-medium-emphasis"})]),_:1})):z("",!0)])):z("",!0),e(P),e(t(q),{tag:"ul",class:"d-flex flex-column gap-y-1 chat-contacts-list px-3 py-2 list-none",options:{wheelPropagation:!1}},{default:l(()=>[ae,(d(!0),g(S,null,L(t(h).chatsContacts,C=>(d(),k(tt,{key:`chat-${C.id}`,user:C,"is-chat-contact":"",onClick:_=>r.$emit("openChatOfContact",C.id)},null,8,["user","onClick"]))),128)),W(s("span",oe,"No chats found",512),[[X,!t(h).chatsContacts.length]]),ne,(d(!0),g(S,null,L(t(h).contacts,C=>(d(),k(tt,{key:`chat-${C.id}`,user:C,onClick:_=>r.$emit("openChatOfContact",C.id)},null,8,["user","onClick"]))),128)),W(s("span",ce,"No contacts found",512),[[X,!t(h).contacts.length]])]),_:1})],64)}}}),ie={class:"chat-log pa-6"},re={class:"mb-0 text-base"},de={class:"text-sm ms-2 text-disabled"},ue=N({__name:"ChatLog",setup(y){const a=O(),c=E(()=>{var o,h;return{id:(o=a.activeChat)==null?void 0:o.contact.id,avatar:(h=a.activeChat)==null?void 0:h.contact.avatar}}),u=o=>o.isSeen?{icon:"tabler-checks",color:"success"}:o.isDelivered?{icon:"tabler-checks",color:void 0}:{icon:"tabler-check",color:void 0},f=E(()=>{let o=[];const h=[];if(a.activeChat.chat){o=a.activeChat.chat.messages;let r=o[0].senderId,v={senderId:r,messages:[]};o.forEach((m,p)=>{r===m.senderId?v.messages.push({message:m.message,time:m.time,feedback:m.feedback}):(r=m.senderId,h.push(v),v={senderId:m.senderId,messages:[{message:m.message,time:m.time,feedback:m.feedback}]}),p===o.length-1&&h.push(v)})}return h});return(o,h)=>{const r=i("VImg"),v=i("VAvatar"),m=i("VIcon");return d(),g("div",ie,[(d(!0),g(S,null,L(t(f),(p,$)=>(d(),g("div",{key:p.senderId+String($),class:D(["chat-group d-flex align-start",[{"flex-row-reverse":p.senderId!==t(c).id,"mb-6":t(f).length-1!==$}]])},[s("div",{class:D(["chat-avatar",p.senderId!==t(c).id?"ms-4":"me-4"])},[e(v,{size:"32"},{default:l(()=>{var V;return[e(r,{src:p.senderId===t(c).id?t(c).avatar:(V=t(a).profileUser)==null?void 0:V.avatar},null,8,["src"])]}),_:2},1024)],2),s("div",{class:D(["chat-body d-inline-flex flex-column",p.senderId!==t(c).id?"align-end":"align-start"])},[(d(!0),g(S,null,L(p.messages,(V,w)=>(d(),g("div",{key:V.time,class:D(["chat-content py-2 px-4 elevation-2",[p.senderId===t(c).id?"chat-left":"bg-primary text-white chat-right",p.messages.length-1!==w?"mb-2":"mb-1"]]),style:{"background-color":"rgb(var(--v-theme-surface))"}},[s("p",re,x(V.message),1)],2))),128)),s("div",{class:D({"text-right":p.senderId!==t(c).id})},[p.senderId!==t(c).id?(d(),k(m,{key:0,size:"16",color:u(p.messages[p.messages.length-1].feedback).color},{default:l(()=>[F(x(u(p.messages[p.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):z("",!0),s("span",de,x(("formatDate"in o?o.formatDate:t(dt))(p.messages[p.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))])}}}),he={class:"pt-2 me-2 text-end"},me={class:"text-center px-6"},pe={key:1,class:"text-3xl"},ve={class:"text-h5"},fe={class:"text-capitalize text-medium-emphasis mb-0"},_e={class:"my-6 text-medium-emphasis"},ge=s("div",{for:"textarea-user-about",class:"text-base text-disabled"}," ABOUT ",-1),be={class:"mb-6"},xe=s("div",{class:"text-base text-disabled"}," STATUS ",-1),Ce={class:"text-medium-emphasis"},Ve=s("div",{class:"text-base text-disabled"}," SETTINGS ",-1),ye={class:"d-flex align-center pa-2"},$e={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},ke=s("div",{class:"text-body-1 text-high-emphasis"}," Two-step Verification ",-1),we={class:"d-flex align-center pa-2"},Ie={class:"text-high-emphasis d-flex align-center justify-space-between flex-grow-1"},Ae=s("div",{class:"text-body-1 text-high-emphasis"}," Notification ",-1),Ue={class:"d-flex align-center pa-2"},Be=s("div",{class:"text-high-emphasis"}," Invite Friends ",-1),Se={class:"d-flex align-center pa-2"},Te=s("div",{class:"text-high-emphasis"}," Delete Account ",-1),De=N({__name:"ChatUserProfileSidebarContent",emits:["close"],setup(y){const a=O(),{resolveAvatarBadgeVariant:c}=R(),u=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],f=B(!0),o=B(!1);return(h,r)=>{const v=i("VIcon"),m=i("IconBtn"),p=i("VImg"),$=i("VAvatar"),V=i("VBadge"),w=Ct,M=i("VRadio"),P=i("VRadioGroup"),C=i("VSwitch"),_=i("VBtn");return t(a).profileUser?(d(),g(S,{key:0},[s("div",he,[e(m,{onClick:r[0]||(r[0]=n=>h.$emit("close"))},{default:l(()=>[e(v,{class:"text-medium-emphasis",color:"disabled",icon:"tabler-x"})]),_:1})]),s("div",me,[e(V,{location:"bottom right","offset-x":"7","offset-y":"4",bordered:"",color:t(c)(t(a).profileUser.status),class:"chat-user-profile-badge mb-3"},{default:l(()=>[e($,{size:"84",variant:t(a).profileUser.avatar?void 0:"tonal",color:t(a).profileUser.avatar?void 0:t(c)(t(a).profileUser.status)},{default:l(()=>[t(a).profileUser.avatar?(d(),k(p,{key:0,src:t(a).profileUser.avatar},null,8,["src"])):(d(),g("span",pe,x(("avatarText"in h?h.avatarText:t(j))(t(a).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("h5",ve,x(t(a).profileUser.fullName),1),s("p",fe,x(t(a).profileUser.role),1)]),e(t(q),{class:"ps-chat-user-profile-sidebar-content pb-5 px-6",options:{wheelPropagation:!1}},{default:l(()=>[s("div",_e,[ge,e(w,{id:"textarea-user-about",modelValue:t(a).profileUser.about,"onUpdate:modelValue":r[1]||(r[1]=n=>t(a).profileUser.about=n),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),s("div",be,[xe,e(P,{modelValue:t(a).profileUser.status,"onUpdate:modelValue":r[2]||(r[2]=n=>t(a).profileUser.status=n),class:"mt-1"},{default:l(()=>[(d(),g(S,null,L(u,n=>e(M,{key:n.title,label:n.title,value:n.value,color:n.color},null,8,["label","value","color"])),64))]),_:1},8,["modelValue"])]),s("div",Ce,[Ve,s("div",ye,[e(v,{class:"me-2 text-high-emphasis",icon:"tabler-lock",size:"22"}),s("div",$e,[ke,e(C,{modelValue:t(f),"onUpdate:modelValue":r[3]||(r[3]=n=>A(f)?f.value=n:null),density:"compact"},null,8,["modelValue"])])]),s("div",we,[e(v,{class:"me-2 text-high-emphasis",icon:"tabler-bell",size:"22"}),s("div",Ie,[Ae,e(C,{modelValue:t(o),"onUpdate:modelValue":r[4]||(r[4]=n=>A(o)?o.value=n:null),density:"compact"},null,8,["modelValue"])])]),s("div",Ue,[e(v,{class:"me-2 text-high-emphasis",icon:"tabler-user-plus",size:"22"}),Be]),s("div",Se,[e(v,{class:"me-2 text-high-emphasis",icon:"tabler-trash",size:"22"}),Te])]),e(_,{color:"primary",class:"mt-12",block:"","append-icon":"tabler-logout"},{default:l(()=>[F(" Logout ")]),_:1})]),_:1})],64)):z("",!0)}}}),ze={key:0,class:"d-flex flex-column h-100"},Me={class:"active-chat-header d-flex align-center text-medium-emphasis bg-surface"},Ne={key:1},Oe={class:"flex-grow-1 ms-4 overflow-hidden"},Pe={class:"text-h6 mb-0 font-weight-regular"},Fe={class:"text-truncate mb-0 text-body-2"},Le={class:"d-sm-flex align-center d-none text-medium-emphasis"},Re={class:"d-flex gap-1"},Ee={key:1,class:"d-flex h-100 align-center justify-center flex-column"},je={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},es=N({__name:"chat",setup(y){mt(_=>({"44f5eeb5":t(C)}));const a=pt(),c=O(),{isLeftSidebarOpen:u}=Vt(a.smAndDown),{resolveAvatarBadgeVariant:f}=R(),o=B(),h=()=>{const _=o.value.$el||o.value;_.scrollTop=_.scrollHeight},r=B("");vt(r,_=>c.fetchChatsAndContacts(_),{immediate:!0});const v=()=>{a.mdAndUp.value||(u.value=!0)},m=B(""),p=async()=>{m.value&&(await c.sendMsg(m.value),m.value="",Z(()=>{h()}))},$=async _=>{await c.getChat(_),m.value="";const n=c.chatsContacts.find(U=>U.id===_);n&&(n.chat.unseenMsgs=0),a.smAndDown.value&&(u.value=!1),Z(()=>{h()})},V=B(!1),w=B(!1),M=B(),{name:P}=ft(),C=E(()=>{var n,U;let _="transparent";return Y&&(_=(U=(n=Y)==null?void 0:n[P.value].colors)==null?void 0:U.background),_});return(_,n)=>{const U=i("VNavigationDrawer"),I=i("VIcon"),T=i("IconBtn"),et=i("VImg"),H=i("VAvatar"),st=i("VBadge"),at=i("VSpacer"),ot=i("VDivider"),J=i("VBtn"),nt=i("VTextField"),ct=i("VForm"),lt=i("VMain"),it=i("VLayout");return d(),k(it,{class:"chat-app-layout"},{default:l(()=>[e(U,{modelValue:t(V),"onUpdate:modelValue":n[1]||(n[1]=b=>A(V)?V.value=b:null),temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:l(()=>[e(De,{onClose:n[0]||(n[0]=b=>V.value=!1)})]),_:1},8,["modelValue"]),e(U,{modelValue:t(w),"onUpdate:modelValue":n[3]||(n[3]=b=>A(w)?w.value=b:null),width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:l(()=>[e(Wt,{onClose:n[2]||(n[2]=b=>w.value=!1)})]),_:1},8,["modelValue"]),e(U,{modelValue:t(u),"onUpdate:modelValue":n[8]||(n[8]=b=>A(u)?u.value=b:null),absolute:"",touchless:"",location:"start",width:"370",temporary:_.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:_.$vuetify.display.mdAndUp},{default:l(()=>[e(le,{isDrawerOpen:t(u),"onUpdate:isDrawerOpen":n[4]||(n[4]=b=>A(u)?u.value=b:null),search:t(r),"onUpdate:search":n[5]||(n[5]=b=>A(r)?r.value=b:null),onOpenChatOfContact:$,onShowUserProfile:n[6]||(n[6]=b=>V.value=!0),onClose:n[7]||(n[7]=b=>u.value=!1)},null,8,["isDrawerOpen","search"])]),_:1},8,["modelValue","temporary","permanent"]),e(lt,{class:"chat-content-container"},{default:l(()=>[t(c).activeChat?(d(),g("div",ze,[s("div",Me,[e(T,{class:"d-md-none me-3",onClick:n[9]||(n[9]=b=>u.value=!0)},{default:l(()=>[e(I,{icon:"tabler-menu-2"})]),_:1}),s("div",{class:"d-flex align-center cursor-pointer",onClick:n[10]||(n[10]=b=>w.value=!0)},[e(st,{dot:"",location:"bottom right","offset-x":"3","offset-y":"0",color:t(f)(t(c).activeChat.contact.status),bordered:""},{default:l(()=>[e(H,{size:"40",variant:t(c).activeChat.contact.avatar?void 0:"tonal",color:t(c).activeChat.contact.avatar?void 0:t(f)(t(c).activeChat.contact.status),class:"cursor-pointer"},{default:l(()=>[t(c).activeChat.contact.avatar?(d(),k(et,{key:0,src:t(c).activeChat.contact.avatar,alt:t(c).activeChat.contact.fullName},null,8,["src","alt"])):(d(),g("span",Ne,x(("avatarText"in _?_.avatarText:t(j))(t(c).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),s("div",Oe,[s("div",Pe,x(t(c).activeChat.contact.fullName),1),s("p",Fe,x(t(c).activeChat.contact.role),1)])]),e(at),s("div",Le,[e(T,null,{default:l(()=>[e(I,{icon:"tabler-phone"})]),_:1}),e(T,null,{default:l(()=>[e(I,{icon:"tabler-video"})]),_:1}),e(T,null,{default:l(()=>[e(I,{icon:"tabler-search"})]),_:1}),e(T,null,{default:l(()=>[e(I,{icon:"tabler-dots-vertical"})]),_:1})])]),e(ot),e(t(q),{ref_key:"chatLogPS",ref:o,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:l(()=>[e(ue)]),_:1},512),e(ct,{class:"chat-log-message-form mb-5 mx-5",onSubmit:_t(p,["prevent"])},{default:l(()=>{var b;return[(d(),k(nt,{key:(b=t(c).activeChat)==null?void 0:b.contact.id,modelValue:t(m),"onUpdate:modelValue":n[12]||(n[12]=K=>A(m)?m.value=K:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":l(()=>[s("div",Re,[e(T,null,{default:l(()=>[e(I,{icon:"tabler-microphone",size:"22"})]),_:1}),e(T,{onClick:n[11]||(n[11]=K=>{var Q;return(Q=t(M))==null?void 0:Q.click()})},{default:l(()=>[e(I,{icon:"tabler-paperclip",size:"22"})]),_:1}),e(J,{onClick:p},{append:l(()=>[e(I,{icon:"tabler-send",color:"#fff"})]),default:l(()=>[F(" Send ")]),_:1})])]),_:1},8,["modelValue"])),s("input",{ref_key:"refInputEl",ref:M,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(d(),g("div",Ee,[e(H,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:l(()=>[e(I,{size:"50",class:"rounded-0",icon:"tabler-message-2"})]),_:1}),_.$vuetify.display.smAndDown?(d(),k(J,{key:0,rounded:"xl",onClick:v},{default:l(()=>[F(" Start Conversation ")]),_:1})):(d(),g("p",je," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}});export{es as default};
